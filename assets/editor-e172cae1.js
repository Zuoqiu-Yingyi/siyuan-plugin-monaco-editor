var js=Object.defineProperty;var Ks=(r,s,n)=>s in r?js(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var I=(r,s,n)=>(Ks(r,typeof s!="symbol"?s+"":s,n),n);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const x of i.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&e(x)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const at=Ns(),ot=zs(),bs=Hs();Vs();Gs();function Rs(){return!!globalThis.require}function Ps(){return!!globalThis.process}function Ns(){return Ps()&&Rs()}function zs(){return globalThis.self!==globalThis.top}function Hs(){return!globalThis.opener}function Vs(){var r,s,n;return((n=(s=(r=globalThis.siyuan)==null?void 0:r.config)==null?void 0:s.appearance)==null?void 0:n.mode)===0}function Gs(){var r,s,n;return((n=(s=(r=globalThis.siyuan)==null?void 0:r.config)==null?void 0:s.appearance)==null?void 0:n.mode)===1}class Us{constructor(s,n=!0){this.label=s,this.collapsed=n}stdout(s,n,...e){const a=`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${s.name.toUpperCase()}\x1B[0m>`;this.collapsed?globalThis.console.groupCollapsed(a):globalThis.console.group(a),n?e.forEach(i=>Array.isArray(i)?s(...i):s(i)):s(...e),globalThis.console.trace(),globalThis.console.groupEnd()}dir(...s){this.stdout(globalThis.console.dir,!1,...s)}dirs(...s){this.stdout(globalThis.console.dir,!0,...s)}table(...s){this.stdout(globalThis.console.table,!1,...s)}tables(...s){this.stdout(globalThis.console.table,!0,...s)}debug(...s){this.stdout(globalThis.console.debug,!1,...s)}debugs(...s){this.stdout(globalThis.console.debug,!0,...s)}info(...s){this.stdout(globalThis.console.info,!1,...s)}infos(...s){this.stdout(globalThis.console.info,!0,...s)}log(...s){this.stdout(globalThis.console.log,!1,...s)}logs(...s){this.stdout(globalThis.console.log,!0,...s)}warn(...s){this.stdout(globalThis.console.warn,!1,...s)}warns(...s){this.stdout(globalThis.console.warn,!0,...s)}error(...s){this.stdout(globalThis.console.error,!1,...s)}errors(...s){this.stdout(globalThis.console.error,!0,...s)}}function J(){}function Es(r){return r()}function bt(){return Object.create(null)}function xt(r){r.forEach(Es)}function ws(r){return typeof r=="function"}function Ws(r,s){return r!=r?s==s:r!==s||r&&typeof r=="object"||typeof r=="function"}function Xs(r){return Object.keys(r).length===0}function Js(r,s,n){r.insertBefore(s,n||null)}function vs(r){r.parentNode&&r.parentNode.removeChild(r)}function Zs(r){return document.createElement(r)}function $s(r,s,n){n==null?r.removeAttribute(s):r.getAttribute(s)!==n&&r.setAttribute(s,n)}function Ys(r){return Array.from(r.childNodes)}function nt(r,s,n){r.classList[n?"add":"remove"](s)}function Qs(r,s,{bubbles:n=!1,cancelable:e=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(r,n,e,s),a}let Z;function X(r){Z=r}function ys(){if(!Z)throw new Error("Function called outside component initialization");return Z}function cs(r){ys().$$.on_mount.push(r)}function ds(){const r=ys();return(s,n,{cancelable:e=!1}={})=>{const a=r.$$.callbacks[s];if(a){const i=Qs(s,n,{cancelable:e});return a.slice().forEach(x=>{x.call(r,i)}),!i.defaultPrevented}return!0}}const z=[],Ct=[];let H=[];const Et=[],tn=Promise.resolve();let pt=!1;function sn(){pt||(pt=!0,tn.then(qs))}function Bt(r){H.push(r)}const ut=new Set;let N=0;function qs(){if(N!==0)return;const r=Z;do{try{for(;N<z.length;){const s=z[N];N++,X(s),nn(s.$$)}}catch(s){throw z.length=0,N=0,s}for(X(null),z.length=0,N=0;Ct.length;)Ct.pop()();for(let s=0;s<H.length;s+=1){const n=H[s];ut.has(n)||(ut.add(n),n())}H.length=0}while(z.length);for(;Et.length;)Et.pop()();pt=!1,ut.clear(),X(r)}function nn(r){if(r.fragment!==null){r.update(),xt(r.before_update);const s=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,s),r.after_update.forEach(Bt)}}function rn(r){const s=[],n=[];H.forEach(e=>r.indexOf(e)===-1?s.push(e):n.push(e)),n.forEach(e=>e()),H=s}const en=new Set;function an(r,s){r&&r.i&&(en.delete(r),r.i(s))}function xn(r,s,n,e){const{fragment:a,after_update:i}=r.$$;a&&a.m(s,n),e||Bt(()=>{const x=r.$$.on_mount.map(Es).filter(ws);r.$$.on_destroy?r.$$.on_destroy.push(...x):xt(x),r.$$.on_mount=[]}),i.forEach(Bt)}function ln(r,s){const n=r.$$;n.fragment!==null&&(rn(n.after_update),xt(n.on_destroy),n.fragment&&n.fragment.d(s),n.on_destroy=n.fragment=null,n.ctx=[])}function un(r,s){r.$$.dirty[0]===-1&&(z.push(r),sn(),r.$$.dirty.fill(0)),r.$$.dirty[s/31|0]|=1<<s%31}function hn(r,s,n,e,a,i,x,p=[-1]){const m=Z;X(r);const l=r.$$={fragment:null,ctx:[],props:i,update:J,not_equal:a,bound:bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(m?m.$$.context:[])),callbacks:bt(),dirty:p,skip_bound:!1,root:s.target||m.$$.root};x&&x(l.root);let u=!1;if(l.ctx=n?n(r,s.props||{},(C,g,...h)=>{const _=h.length?h[0]:g;return l.ctx&&a(l.ctx[C],l.ctx[C]=_)&&(!l.skip_bound&&l.bound[C]&&l.bound[C](_),u&&un(r,C)),g}):[],l.update(),u=!0,xt(l.before_update),l.fragment=e?e(l.ctx):!1,s.target){if(s.hydrate){const C=Ys(s.target);l.fragment&&l.fragment.l(C),C.forEach(vs)}else l.fragment&&l.fragment.c();s.intro&&an(r.$$.fragment),xn(r,s.target,s.anchor,s.customElement),qs()}X(m)}class gn{$destroy(){ln(this,1),this.$destroy=J}$on(s,n){if(!ws(n))return J;const e=this.$$.callbacks[s]||(this.$$.callbacks[s]=[]);return e.push(n),()=>{const a=e.indexOf(n);a!==-1&&e.splice(a,1)}}$set(s){this.$$set&&!Xs(s)&&(this.$$.skip_bound=!0,this.$$set(s),this.$$.skip_bound=!1)}}function fn(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function wt(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);s&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,e)}return n}function vt(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?wt(Object(n),!0).forEach(function(e){fn(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function mn(r,s){if(r==null)return{};var n={},e=Object.keys(r),a,i;for(i=0;i<e.length;i++)a=e[i],!(s.indexOf(a)>=0)&&(n[a]=r[a]);return n}function Cn(r,s){if(r==null)return{};var n=mn(r,s),e,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(a=0;a<i.length;a++)e=i[a],!(s.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(r,e)&&(n[e]=r[e])}return n}function pn(r,s){return Bn(r)||Dn(r,s)||on(r,s)||An()}function Bn(r){if(Array.isArray(r))return r}function Dn(r,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],e=!0,a=!1,i=void 0;try{for(var x=r[Symbol.iterator](),p;!(e=(p=x.next()).done)&&(n.push(p.value),!(s&&n.length===s));e=!0);}catch(m){a=!0,i=m}finally{try{!e&&x.return!=null&&x.return()}finally{if(a)throw i}}return n}}function on(r,s){if(r){if(typeof r=="string")return yt(r,s);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(r,s)}}function yt(r,s){(s==null||s>r.length)&&(s=r.length);for(var n=0,e=new Array(s);n<s;n++)e[n]=r[n];return e}function An(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fn(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function qt(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);s&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,e)}return n}function _t(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?qt(Object(n),!0).forEach(function(e){Fn(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function bn(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return function(e){return s.reduceRight(function(a,i){return i(a)},e)}}function W(r){return function s(){for(var n=this,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return a.length>=r.length?r.apply(this,a):function(){for(var x=arguments.length,p=new Array(x),m=0;m<x;m++)p[m]=arguments[m];return s.apply(n,[].concat(a,p))}}}function it(r){return{}.toString.call(r).includes("Object")}function En(r){return!Object.keys(r).length}function $(r){return typeof r=="function"}function wn(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function vn(r,s){return it(s)||K("changeType"),Object.keys(s).some(function(n){return!wn(r,n)})&&K("changeField"),s}function yn(r){$(r)||K("selectorType")}function qn(r){$(r)||it(r)||K("handlerType"),it(r)&&Object.values(r).some(function(s){return!$(s)})&&K("handlersType")}function _n(r){r||K("initialIsRequired"),it(r)||K("initialType"),En(r)&&K("initialContent")}function On(r,s){throw new Error(r[s]||r.default)}var In={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},K=W(On)(In),rt={changes:vn,selector:yn,handler:qn,initial:_n};function kn(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rt.initial(r),rt.handler(s);var n={current:r},e=W(Ln)(n,s),a=W(Tn)(n),i=W(rt.changes)(r),x=W(Sn)(n);function p(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return rt.selector(l),l(n.current)}function m(l){bn(e,a,i,x)(l)}return[p,m]}function Sn(r,s){return $(s)?s(r.current):s}function Tn(r,s){return r.current=_t(_t({},r.current),s),s}function Ln(r,s,n){return $(s)?s(r.current):Object.keys(n).forEach(function(e){var a;return(a=s[e])===null||a===void 0?void 0:a.call(s,r.current[e])}),n}var Mn={create:kn},jn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};function Kn(r){return function s(){for(var n=this,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return a.length>=r.length?r.apply(this,a):function(){for(var x=arguments.length,p=new Array(x),m=0;m<x;m++)p[m]=arguments[m];return s.apply(n,[].concat(a,p))}}}function Rn(r){return{}.toString.call(r).includes("Object")}function Pn(r){return r||Ot("configIsRequired"),Rn(r)||Ot("configType"),r.urls?(Nn(),{paths:{vs:r.urls.monacoBase}}):r}function Nn(){console.warn(_s.deprecation)}function zn(r,s){throw new Error(r[s]||r.default)}var _s={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ot=Kn(zn)(_s),Hn={config:Pn},Vn=function(){for(var s=arguments.length,n=new Array(s),e=0;e<s;e++)n[e]=arguments[e];return function(a){return n.reduceRight(function(i,x){return x(i)},a)}};function Os(r,s){return Object.keys(s).forEach(function(n){s[n]instanceof Object&&r[n]&&Object.assign(s[n],Os(r[n],s[n]))}),vt(vt({},r),s)}var Gn={type:"cancelation",msg:"operation is manually canceled"};function ht(r){var s=!1,n=new Promise(function(e,a){r.then(function(i){return s?a(Gn):e(i)}),r.catch(a)});return n.cancel=function(){return s=!0},n}var Un=Mn.create({config:jn,isInitialized:!1,resolve:null,reject:null,monaco:null}),Is=pn(Un,2),Q=Is[0],lt=Is[1];function Wn(r){var s=Hn.config(r),n=s.monaco,e=Cn(s,["monaco"]);lt(function(a){return{config:Os(a.config,e),monaco:n}})}function Xn(){var r=Q(function(s){var n=s.monaco,e=s.isInitialized,a=s.resolve;return{monaco:n,isInitialized:e,resolve:a}});if(!r.isInitialized){if(lt({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),ht(gt);if(window.monaco&&window.monaco.editor)return ks(window.monaco),r.resolve(window.monaco),ht(gt);Vn(Jn,$n)(Yn)}return ht(gt)}function Jn(r){return document.body.appendChild(r)}function Zn(r){var s=document.createElement("script");return r&&(s.src=r),s}function $n(r){var s=Q(function(e){var a=e.config,i=e.reject;return{config:a,reject:i}}),n=Zn("".concat(s.config.paths.vs,"/loader.js"));return n.onload=function(){return r()},n.onerror=s.reject,n}function Yn(){var r=Q(function(n){var e=n.config,a=n.resolve,i=n.reject;return{config:e,resolve:a,reject:i}}),s=window.require;s.config(r.config),s(["vs/editor/editor.main"],function(n){ks(n),r.resolve(n)},function(n){r.reject(n)})}function ks(r){Q().monaco||lt({monaco:r})}function Qn(){return Q(function(r){var s=r.monaco;return s})}var gt=new Promise(function(r,s){return lt({resolve:r,reject:s})}),It={config:Wn,init:Xn,__getMonacoInstance:Qn},U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ss(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cn=function(s){return dn(s)&&!t0(s)};function dn(r){return!!r&&typeof r=="object"}function t0(r){var s=Object.prototype.toString.call(r);return s==="[object RegExp]"||s==="[object Date]"||r0(r)}var s0=typeof Symbol=="function"&&Symbol.for,n0=s0?Symbol.for("react.element"):60103;function r0(r){return r.$$typeof===n0}function e0(r){return Array.isArray(r)?[]:{}}function Y(r,s){return s.clone!==!1&&s.isMergeableObject(r)?V(e0(r),r,s):r}function a0(r,s,n){return r.concat(s).map(function(e){return Y(e,n)})}function i0(r,s){if(!s.customMerge)return V;var n=s.customMerge(r);return typeof n=="function"?n:V}function x0(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(s){return Object.propertyIsEnumerable.call(r,s)}):[]}function kt(r){return Object.keys(r).concat(x0(r))}function Ts(r,s){try{return s in r}catch{return!1}}function l0(r,s){return Ts(r,s)&&!(Object.hasOwnProperty.call(r,s)&&Object.propertyIsEnumerable.call(r,s))}function u0(r,s,n){var e={};return n.isMergeableObject(r)&&kt(r).forEach(function(a){e[a]=Y(r[a],n)}),kt(s).forEach(function(a){l0(r,a)||(Ts(r,a)&&n.isMergeableObject(s[a])?e[a]=i0(a,n)(r[a],s[a],n):e[a]=Y(s[a],n))}),e}function V(r,s,n){n=n||{},n.arrayMerge=n.arrayMerge||a0,n.isMergeableObject=n.isMergeableObject||cn,n.cloneUnlessOtherwiseSpecified=Y;var e=Array.isArray(s),a=Array.isArray(r),i=e===a;return i?e?n.arrayMerge(r,s,n):u0(r,s,n):Y(s,n)}V.all=function(s,n){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(e,a){return V(e,a,n)},{})};var h0=V,g0=h0;const f0=Ss(g0);function m0(...r){return f0.all(r)}var Ls={exports:{}};(function(r,s){(function(n,e){e()})(U,function(){function n(l,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function e(l,u,C){var g=new XMLHttpRequest;g.open("GET",l),g.responseType="blob",g.onload=function(){m(g.response,u,C)},g.onerror=function(){console.error("could not download file")},g.send()}function a(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var x=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof U=="object"&&U.global===U?U:void 0,p=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=x.saveAs||(typeof window!="object"||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!p?function(l,u,C){var g=x.URL||x.webkitURL,h=document.createElement("a");u=u||l.name||"download",h.download=u,h.rel="noopener",typeof l=="string"?(h.href=l,h.origin===location.origin?i(h):a(h.href)?e(l,u,C):i(h,h.target="_blank")):(h.href=g.createObjectURL(l),setTimeout(function(){g.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,C){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(n(l,C),u);else if(a(l))e(l,u,C);else{var g=document.createElement("a");g.href=l,g.target="_blank",setTimeout(function(){i(g)})}}:function(l,u,C,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof l=="string")return e(l,u,C);var h=l.type==="application/octet-stream",_=/constructor/i.test(x.HTMLElement)||x.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||h&&_||p)&&typeof FileReader<"u"){var D=new FileReader;D.onloadend=function(){var b=D.result;b=w?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=b:location=b,g=null},D.readAsDataURL(l)}else{var B=x.URL||x.webkitURL,A=B.createObjectURL(l);g?g.location=A:location.href=A,g=null,setTimeout(function(){B.revokeObjectURL(A)},4e4)}});x.saveAs=m.saveAs=m,r.exports=m})})(Ls);var et=Ls.exports;function C0(r){if(r.filename){const s=new File([r.data],r.filename,{type:r.filetype,lastModified:r.lastModified});return et.saveAs(s,s.name),s}else switch(!0){case r.data instanceof File:{const s=r.data;return et.saveAs(s,s.name),s}case r.data instanceof Blob:{const s=r.data;return et.saveAs(s),s}default:{const s=new Blob([r.data],{type:r.filetype});return et.saveAs(s),s}}}function p0(r,s=[]){switch(r=r.replaceAll("_","-").toLowerCase(),!0){case r in s:break;case r.startsWith("zh-chs"):case r.startsWith("zh-cns"):r="zh-Hans";break;case r.startsWith("zh-cht"):case r.startsWith("zh-cnt"):r="zh-Hant";break;case r.startsWith("zh-hans"):case r.startsWith("zh-cn"):case r.startsWith("zh-sg"):r="zh-Hans";break;case r.startsWith("zh-hant"):case r.startsWith("zh-tw"):case r.startsWith("zh-hk"):case r.startsWith("zh-mo"):r="zh-Hant";break;case r.startsWith("zh"):r="zh-Hans";break;case r.startsWith("en"):r="en";break;case r.startsWith("es"):r="es";break;case r.startsWith("fr"):r="fr";break}return r}function B0(r){switch(p0(r)){case"zh-Hans":return"zh-cn";case"zh-Hant":return"zh-tw";case"de":return"de";case"es":return"es";case"fr":return"fr";case"it":return"it";case"ja":return"ja";case"ko":return"ko";case"ru":return"ru";case"en":default:return"en"}}const T={embed:!1,path:"",diff:!1,locale:"zh-Hans",savable:!1,changable:!1,original:{value:""},modified:{value:""},options:{},originalOptions:{},modifiedOptions:{},diffOptions:{}};var Ms={exports:{}};(function(r){function s(){var n=0,e=1,a=2,i=3,x=4,p=5,m=6,l=7,u=8,C=9,g=10,h=11,_=12,w=13,D=14,B=15,A=16,b=17,y=0,O=1,k=2,R=3,c=4;function d(t,o){return 55296<=t.charCodeAt(o)&&t.charCodeAt(o)<=56319&&56320<=t.charCodeAt(o+1)&&t.charCodeAt(o+1)<=57343}function G(t,o){o===void 0&&(o=0);var v=t.charCodeAt(o);if(55296<=v&&v<=56319&&o<t.length-1){var F=v,E=t.charCodeAt(o+1);return 56320<=E&&E<=57343?(F-55296)*1024+(E-56320)+65536:F}if(56320<=v&&v<=57343&&o>=1){var F=t.charCodeAt(o-1),E=v;return 55296<=F&&F<=56319?(F-55296)*1024+(E-56320)+65536:E}return v}function tt(t,o,v){var F=[t].concat(o).concat([v]),E=F[F.length-2],q=v,f=F.lastIndexOf(D);if(f>1&&F.slice(1,f).every(function(L){return L==i})&&[i,w,b].indexOf(t)==-1)return k;var S=F.lastIndexOf(x);if(S>0&&F.slice(1,S).every(function(L){return L==x})&&[_,x].indexOf(E)==-1)return F.filter(function(L){return L==x}).length%2==1?R:c;if(E==n&&q==e)return y;if(E==a||E==n||E==e)return q==D&&o.every(function(L){return L==i})?k:O;if(q==a||q==n||q==e)return O;if(E==m&&(q==m||q==l||q==C||q==g))return y;if((E==C||E==l)&&(q==l||q==u))return y;if((E==g||E==u)&&q==u)return y;if(q==i||q==B)return y;if(q==p)return y;if(E==_)return y;var Ft=F.indexOf(i)!=-1?F.lastIndexOf(i)-1:F.length-2;return[w,b].indexOf(F[Ft])!=-1&&F.slice(Ft+1,-1).every(function(L){return L==i})&&q==D||E==B&&[A,b].indexOf(q)!=-1?y:o.indexOf(x)!=-1?k:E==x&&q==x?y:O}this.nextBreak=function(t,o){if(o===void 0&&(o=0),o<0)return 0;if(o>=t.length-1)return t.length;for(var v=st(G(t,o)),F=[],E=o+1;E<t.length;E++)if(!d(t,E-1)){var q=st(G(t,E));if(tt(v,F,q))return E;F.push(q)}return t.length},this.splitGraphemes=function(t){for(var o=[],v=0,F;(F=this.nextBreak(t,v))<t.length;)o.push(t.slice(v,F)),v=F;return v<t.length&&o.push(t.slice(v)),o},this.iterateGraphemes=function(t){var o=0,v={next:(function(){var F,E;return(E=this.nextBreak(t,o))<t.length?(F=t.slice(o,E),o=E,{value:F,done:!1}):o<t.length?(F=t.slice(o),o=t.length,{value:F,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(v[Symbol.iterator]=function(){return v}),v},this.countGraphemes=function(t){for(var o=0,v=0,F;(F=this.nextBreak(t,v))<t.length;)v=F,o++;return v<t.length&&o++,o};function st(t){return 1536<=t&&t<=1541||t==1757||t==1807||t==2274||t==3406||t==69821||70082<=t&&t<=70083||t==72250||72326<=t&&t<=72329||t==73030?_:t==13?n:t==10?e:0<=t&&t<=9||11<=t&&t<=12||14<=t&&t<=31||127<=t&&t<=159||t==173||t==1564||t==6158||t==8203||8206<=t&&t<=8207||t==8232||t==8233||8234<=t&&t<=8238||8288<=t&&t<=8292||t==8293||8294<=t&&t<=8303||55296<=t&&t<=57343||t==65279||65520<=t&&t<=65528||65529<=t&&t<=65531||113824<=t&&t<=113827||119155<=t&&t<=119162||t==917504||t==917505||917506<=t&&t<=917535||917632<=t&&t<=917759||918e3<=t&&t<=921599?a:768<=t&&t<=879||1155<=t&&t<=1159||1160<=t&&t<=1161||1425<=t&&t<=1469||t==1471||1473<=t&&t<=1474||1476<=t&&t<=1477||t==1479||1552<=t&&t<=1562||1611<=t&&t<=1631||t==1648||1750<=t&&t<=1756||1759<=t&&t<=1764||1767<=t&&t<=1768||1770<=t&&t<=1773||t==1809||1840<=t&&t<=1866||1958<=t&&t<=1968||2027<=t&&t<=2035||2070<=t&&t<=2073||2075<=t&&t<=2083||2085<=t&&t<=2087||2089<=t&&t<=2093||2137<=t&&t<=2139||2260<=t&&t<=2273||2275<=t&&t<=2306||t==2362||t==2364||2369<=t&&t<=2376||t==2381||2385<=t&&t<=2391||2402<=t&&t<=2403||t==2433||t==2492||t==2494||2497<=t&&t<=2500||t==2509||t==2519||2530<=t&&t<=2531||2561<=t&&t<=2562||t==2620||2625<=t&&t<=2626||2631<=t&&t<=2632||2635<=t&&t<=2637||t==2641||2672<=t&&t<=2673||t==2677||2689<=t&&t<=2690||t==2748||2753<=t&&t<=2757||2759<=t&&t<=2760||t==2765||2786<=t&&t<=2787||2810<=t&&t<=2815||t==2817||t==2876||t==2878||t==2879||2881<=t&&t<=2884||t==2893||t==2902||t==2903||2914<=t&&t<=2915||t==2946||t==3006||t==3008||t==3021||t==3031||t==3072||3134<=t&&t<=3136||3142<=t&&t<=3144||3146<=t&&t<=3149||3157<=t&&t<=3158||3170<=t&&t<=3171||t==3201||t==3260||t==3263||t==3266||t==3270||3276<=t&&t<=3277||3285<=t&&t<=3286||3298<=t&&t<=3299||3328<=t&&t<=3329||3387<=t&&t<=3388||t==3390||3393<=t&&t<=3396||t==3405||t==3415||3426<=t&&t<=3427||t==3530||t==3535||3538<=t&&t<=3540||t==3542||t==3551||t==3633||3636<=t&&t<=3642||3655<=t&&t<=3662||t==3761||3764<=t&&t<=3769||3771<=t&&t<=3772||3784<=t&&t<=3789||3864<=t&&t<=3865||t==3893||t==3895||t==3897||3953<=t&&t<=3966||3968<=t&&t<=3972||3974<=t&&t<=3975||3981<=t&&t<=3991||3993<=t&&t<=4028||t==4038||4141<=t&&t<=4144||4146<=t&&t<=4151||4153<=t&&t<=4154||4157<=t&&t<=4158||4184<=t&&t<=4185||4190<=t&&t<=4192||4209<=t&&t<=4212||t==4226||4229<=t&&t<=4230||t==4237||t==4253||4957<=t&&t<=4959||5906<=t&&t<=5908||5938<=t&&t<=5940||5970<=t&&t<=5971||6002<=t&&t<=6003||6068<=t&&t<=6069||6071<=t&&t<=6077||t==6086||6089<=t&&t<=6099||t==6109||6155<=t&&t<=6157||6277<=t&&t<=6278||t==6313||6432<=t&&t<=6434||6439<=t&&t<=6440||t==6450||6457<=t&&t<=6459||6679<=t&&t<=6680||t==6683||t==6742||6744<=t&&t<=6750||t==6752||t==6754||6757<=t&&t<=6764||6771<=t&&t<=6780||t==6783||6832<=t&&t<=6845||t==6846||6912<=t&&t<=6915||t==6964||6966<=t&&t<=6970||t==6972||t==6978||7019<=t&&t<=7027||7040<=t&&t<=7041||7074<=t&&t<=7077||7080<=t&&t<=7081||7083<=t&&t<=7085||t==7142||7144<=t&&t<=7145||t==7149||7151<=t&&t<=7153||7212<=t&&t<=7219||7222<=t&&t<=7223||7376<=t&&t<=7378||7380<=t&&t<=7392||7394<=t&&t<=7400||t==7405||t==7412||7416<=t&&t<=7417||7616<=t&&t<=7673||7675<=t&&t<=7679||t==8204||8400<=t&&t<=8412||8413<=t&&t<=8416||t==8417||8418<=t&&t<=8420||8421<=t&&t<=8432||11503<=t&&t<=11505||t==11647||11744<=t&&t<=11775||12330<=t&&t<=12333||12334<=t&&t<=12335||12441<=t&&t<=12442||t==42607||42608<=t&&t<=42610||42612<=t&&t<=42621||42654<=t&&t<=42655||42736<=t&&t<=42737||t==43010||t==43014||t==43019||43045<=t&&t<=43046||43204<=t&&t<=43205||43232<=t&&t<=43249||43302<=t&&t<=43309||43335<=t&&t<=43345||43392<=t&&t<=43394||t==43443||43446<=t&&t<=43449||t==43452||t==43493||43561<=t&&t<=43566||43569<=t&&t<=43570||43573<=t&&t<=43574||t==43587||t==43596||t==43644||t==43696||43698<=t&&t<=43700||43703<=t&&t<=43704||43710<=t&&t<=43711||t==43713||43756<=t&&t<=43757||t==43766||t==44005||t==44008||t==44013||t==64286||65024<=t&&t<=65039||65056<=t&&t<=65071||65438<=t&&t<=65439||t==66045||t==66272||66422<=t&&t<=66426||68097<=t&&t<=68099||68101<=t&&t<=68102||68108<=t&&t<=68111||68152<=t&&t<=68154||t==68159||68325<=t&&t<=68326||t==69633||69688<=t&&t<=69702||69759<=t&&t<=69761||69811<=t&&t<=69814||69817<=t&&t<=69818||69888<=t&&t<=69890||69927<=t&&t<=69931||69933<=t&&t<=69940||t==70003||70016<=t&&t<=70017||70070<=t&&t<=70078||70090<=t&&t<=70092||70191<=t&&t<=70193||t==70196||70198<=t&&t<=70199||t==70206||t==70367||70371<=t&&t<=70378||70400<=t&&t<=70401||t==70460||t==70462||t==70464||t==70487||70502<=t&&t<=70508||70512<=t&&t<=70516||70712<=t&&t<=70719||70722<=t&&t<=70724||t==70726||t==70832||70835<=t&&t<=70840||t==70842||t==70845||70847<=t&&t<=70848||70850<=t&&t<=70851||t==71087||71090<=t&&t<=71093||71100<=t&&t<=71101||71103<=t&&t<=71104||71132<=t&&t<=71133||71219<=t&&t<=71226||t==71229||71231<=t&&t<=71232||t==71339||t==71341||71344<=t&&t<=71349||t==71351||71453<=t&&t<=71455||71458<=t&&t<=71461||71463<=t&&t<=71467||72193<=t&&t<=72198||72201<=t&&t<=72202||72243<=t&&t<=72248||72251<=t&&t<=72254||t==72263||72273<=t&&t<=72278||72281<=t&&t<=72283||72330<=t&&t<=72342||72344<=t&&t<=72345||72752<=t&&t<=72758||72760<=t&&t<=72765||t==72767||72850<=t&&t<=72871||72874<=t&&t<=72880||72882<=t&&t<=72883||72885<=t&&t<=72886||73009<=t&&t<=73014||t==73018||73020<=t&&t<=73021||73023<=t&&t<=73029||t==73031||92912<=t&&t<=92916||92976<=t&&t<=92982||94095<=t&&t<=94098||113821<=t&&t<=113822||t==119141||119143<=t&&t<=119145||119150<=t&&t<=119154||119163<=t&&t<=119170||119173<=t&&t<=119179||119210<=t&&t<=119213||119362<=t&&t<=119364||121344<=t&&t<=121398||121403<=t&&t<=121452||t==121461||t==121476||121499<=t&&t<=121503||121505<=t&&t<=121519||122880<=t&&t<=122886||122888<=t&&t<=122904||122907<=t&&t<=122913||122915<=t&&t<=122916||122918<=t&&t<=122922||125136<=t&&t<=125142||125252<=t&&t<=125258||917536<=t&&t<=917631||917760<=t&&t<=917999?i:127462<=t&&t<=127487?x:t==2307||t==2363||2366<=t&&t<=2368||2377<=t&&t<=2380||2382<=t&&t<=2383||2434<=t&&t<=2435||2495<=t&&t<=2496||2503<=t&&t<=2504||2507<=t&&t<=2508||t==2563||2622<=t&&t<=2624||t==2691||2750<=t&&t<=2752||t==2761||2763<=t&&t<=2764||2818<=t&&t<=2819||t==2880||2887<=t&&t<=2888||2891<=t&&t<=2892||t==3007||3009<=t&&t<=3010||3014<=t&&t<=3016||3018<=t&&t<=3020||3073<=t&&t<=3075||3137<=t&&t<=3140||3202<=t&&t<=3203||t==3262||3264<=t&&t<=3265||3267<=t&&t<=3268||3271<=t&&t<=3272||3274<=t&&t<=3275||3330<=t&&t<=3331||3391<=t&&t<=3392||3398<=t&&t<=3400||3402<=t&&t<=3404||3458<=t&&t<=3459||3536<=t&&t<=3537||3544<=t&&t<=3550||3570<=t&&t<=3571||t==3635||t==3763||3902<=t&&t<=3903||t==3967||t==4145||4155<=t&&t<=4156||4182<=t&&t<=4183||t==4228||t==6070||6078<=t&&t<=6085||6087<=t&&t<=6088||6435<=t&&t<=6438||6441<=t&&t<=6443||6448<=t&&t<=6449||6451<=t&&t<=6456||6681<=t&&t<=6682||t==6741||t==6743||6765<=t&&t<=6770||t==6916||t==6965||t==6971||6973<=t&&t<=6977||6979<=t&&t<=6980||t==7042||t==7073||7078<=t&&t<=7079||t==7082||t==7143||7146<=t&&t<=7148||t==7150||7154<=t&&t<=7155||7204<=t&&t<=7211||7220<=t&&t<=7221||t==7393||7410<=t&&t<=7411||t==7415||43043<=t&&t<=43044||t==43047||43136<=t&&t<=43137||43188<=t&&t<=43203||43346<=t&&t<=43347||t==43395||43444<=t&&t<=43445||43450<=t&&t<=43451||43453<=t&&t<=43456||43567<=t&&t<=43568||43571<=t&&t<=43572||t==43597||t==43755||43758<=t&&t<=43759||t==43765||44003<=t&&t<=44004||44006<=t&&t<=44007||44009<=t&&t<=44010||t==44012||t==69632||t==69634||t==69762||69808<=t&&t<=69810||69815<=t&&t<=69816||t==69932||t==70018||70067<=t&&t<=70069||70079<=t&&t<=70080||70188<=t&&t<=70190||70194<=t&&t<=70195||t==70197||70368<=t&&t<=70370||70402<=t&&t<=70403||t==70463||70465<=t&&t<=70468||70471<=t&&t<=70472||70475<=t&&t<=70477||70498<=t&&t<=70499||70709<=t&&t<=70711||70720<=t&&t<=70721||t==70725||70833<=t&&t<=70834||t==70841||70843<=t&&t<=70844||t==70846||t==70849||71088<=t&&t<=71089||71096<=t&&t<=71099||t==71102||71216<=t&&t<=71218||71227<=t&&t<=71228||t==71230||t==71340||71342<=t&&t<=71343||t==71350||71456<=t&&t<=71457||t==71462||72199<=t&&t<=72200||t==72249||72279<=t&&t<=72280||t==72343||t==72751||t==72766||t==72873||t==72881||t==72884||94033<=t&&t<=94078||t==119142||t==119149?p:4352<=t&&t<=4447||43360<=t&&t<=43388?m:4448<=t&&t<=4519||55216<=t&&t<=55238?l:4520<=t&&t<=4607||55243<=t&&t<=55291?u:t==44032||t==44060||t==44088||t==44116||t==44144||t==44172||t==44200||t==44228||t==44256||t==44284||t==44312||t==44340||t==44368||t==44396||t==44424||t==44452||t==44480||t==44508||t==44536||t==44564||t==44592||t==44620||t==44648||t==44676||t==44704||t==44732||t==44760||t==44788||t==44816||t==44844||t==44872||t==44900||t==44928||t==44956||t==44984||t==45012||t==45040||t==45068||t==45096||t==45124||t==45152||t==45180||t==45208||t==45236||t==45264||t==45292||t==45320||t==45348||t==45376||t==45404||t==45432||t==45460||t==45488||t==45516||t==45544||t==45572||t==45600||t==45628||t==45656||t==45684||t==45712||t==45740||t==45768||t==45796||t==45824||t==45852||t==45880||t==45908||t==45936||t==45964||t==45992||t==46020||t==46048||t==46076||t==46104||t==46132||t==46160||t==46188||t==46216||t==46244||t==46272||t==46300||t==46328||t==46356||t==46384||t==46412||t==46440||t==46468||t==46496||t==46524||t==46552||t==46580||t==46608||t==46636||t==46664||t==46692||t==46720||t==46748||t==46776||t==46804||t==46832||t==46860||t==46888||t==46916||t==46944||t==46972||t==47e3||t==47028||t==47056||t==47084||t==47112||t==47140||t==47168||t==47196||t==47224||t==47252||t==47280||t==47308||t==47336||t==47364||t==47392||t==47420||t==47448||t==47476||t==47504||t==47532||t==47560||t==47588||t==47616||t==47644||t==47672||t==47700||t==47728||t==47756||t==47784||t==47812||t==47840||t==47868||t==47896||t==47924||t==47952||t==47980||t==48008||t==48036||t==48064||t==48092||t==48120||t==48148||t==48176||t==48204||t==48232||t==48260||t==48288||t==48316||t==48344||t==48372||t==48400||t==48428||t==48456||t==48484||t==48512||t==48540||t==48568||t==48596||t==48624||t==48652||t==48680||t==48708||t==48736||t==48764||t==48792||t==48820||t==48848||t==48876||t==48904||t==48932||t==48960||t==48988||t==49016||t==49044||t==49072||t==49100||t==49128||t==49156||t==49184||t==49212||t==49240||t==49268||t==49296||t==49324||t==49352||t==49380||t==49408||t==49436||t==49464||t==49492||t==49520||t==49548||t==49576||t==49604||t==49632||t==49660||t==49688||t==49716||t==49744||t==49772||t==49800||t==49828||t==49856||t==49884||t==49912||t==49940||t==49968||t==49996||t==50024||t==50052||t==50080||t==50108||t==50136||t==50164||t==50192||t==50220||t==50248||t==50276||t==50304||t==50332||t==50360||t==50388||t==50416||t==50444||t==50472||t==50500||t==50528||t==50556||t==50584||t==50612||t==50640||t==50668||t==50696||t==50724||t==50752||t==50780||t==50808||t==50836||t==50864||t==50892||t==50920||t==50948||t==50976||t==51004||t==51032||t==51060||t==51088||t==51116||t==51144||t==51172||t==51200||t==51228||t==51256||t==51284||t==51312||t==51340||t==51368||t==51396||t==51424||t==51452||t==51480||t==51508||t==51536||t==51564||t==51592||t==51620||t==51648||t==51676||t==51704||t==51732||t==51760||t==51788||t==51816||t==51844||t==51872||t==51900||t==51928||t==51956||t==51984||t==52012||t==52040||t==52068||t==52096||t==52124||t==52152||t==52180||t==52208||t==52236||t==52264||t==52292||t==52320||t==52348||t==52376||t==52404||t==52432||t==52460||t==52488||t==52516||t==52544||t==52572||t==52600||t==52628||t==52656||t==52684||t==52712||t==52740||t==52768||t==52796||t==52824||t==52852||t==52880||t==52908||t==52936||t==52964||t==52992||t==53020||t==53048||t==53076||t==53104||t==53132||t==53160||t==53188||t==53216||t==53244||t==53272||t==53300||t==53328||t==53356||t==53384||t==53412||t==53440||t==53468||t==53496||t==53524||t==53552||t==53580||t==53608||t==53636||t==53664||t==53692||t==53720||t==53748||t==53776||t==53804||t==53832||t==53860||t==53888||t==53916||t==53944||t==53972||t==54e3||t==54028||t==54056||t==54084||t==54112||t==54140||t==54168||t==54196||t==54224||t==54252||t==54280||t==54308||t==54336||t==54364||t==54392||t==54420||t==54448||t==54476||t==54504||t==54532||t==54560||t==54588||t==54616||t==54644||t==54672||t==54700||t==54728||t==54756||t==54784||t==54812||t==54840||t==54868||t==54896||t==54924||t==54952||t==54980||t==55008||t==55036||t==55064||t==55092||t==55120||t==55148||t==55176?C:44033<=t&&t<=44059||44061<=t&&t<=44087||44089<=t&&t<=44115||44117<=t&&t<=44143||44145<=t&&t<=44171||44173<=t&&t<=44199||44201<=t&&t<=44227||44229<=t&&t<=44255||44257<=t&&t<=44283||44285<=t&&t<=44311||44313<=t&&t<=44339||44341<=t&&t<=44367||44369<=t&&t<=44395||44397<=t&&t<=44423||44425<=t&&t<=44451||44453<=t&&t<=44479||44481<=t&&t<=44507||44509<=t&&t<=44535||44537<=t&&t<=44563||44565<=t&&t<=44591||44593<=t&&t<=44619||44621<=t&&t<=44647||44649<=t&&t<=44675||44677<=t&&t<=44703||44705<=t&&t<=44731||44733<=t&&t<=44759||44761<=t&&t<=44787||44789<=t&&t<=44815||44817<=t&&t<=44843||44845<=t&&t<=44871||44873<=t&&t<=44899||44901<=t&&t<=44927||44929<=t&&t<=44955||44957<=t&&t<=44983||44985<=t&&t<=45011||45013<=t&&t<=45039||45041<=t&&t<=45067||45069<=t&&t<=45095||45097<=t&&t<=45123||45125<=t&&t<=45151||45153<=t&&t<=45179||45181<=t&&t<=45207||45209<=t&&t<=45235||45237<=t&&t<=45263||45265<=t&&t<=45291||45293<=t&&t<=45319||45321<=t&&t<=45347||45349<=t&&t<=45375||45377<=t&&t<=45403||45405<=t&&t<=45431||45433<=t&&t<=45459||45461<=t&&t<=45487||45489<=t&&t<=45515||45517<=t&&t<=45543||45545<=t&&t<=45571||45573<=t&&t<=45599||45601<=t&&t<=45627||45629<=t&&t<=45655||45657<=t&&t<=45683||45685<=t&&t<=45711||45713<=t&&t<=45739||45741<=t&&t<=45767||45769<=t&&t<=45795||45797<=t&&t<=45823||45825<=t&&t<=45851||45853<=t&&t<=45879||45881<=t&&t<=45907||45909<=t&&t<=45935||45937<=t&&t<=45963||45965<=t&&t<=45991||45993<=t&&t<=46019||46021<=t&&t<=46047||46049<=t&&t<=46075||46077<=t&&t<=46103||46105<=t&&t<=46131||46133<=t&&t<=46159||46161<=t&&t<=46187||46189<=t&&t<=46215||46217<=t&&t<=46243||46245<=t&&t<=46271||46273<=t&&t<=46299||46301<=t&&t<=46327||46329<=t&&t<=46355||46357<=t&&t<=46383||46385<=t&&t<=46411||46413<=t&&t<=46439||46441<=t&&t<=46467||46469<=t&&t<=46495||46497<=t&&t<=46523||46525<=t&&t<=46551||46553<=t&&t<=46579||46581<=t&&t<=46607||46609<=t&&t<=46635||46637<=t&&t<=46663||46665<=t&&t<=46691||46693<=t&&t<=46719||46721<=t&&t<=46747||46749<=t&&t<=46775||46777<=t&&t<=46803||46805<=t&&t<=46831||46833<=t&&t<=46859||46861<=t&&t<=46887||46889<=t&&t<=46915||46917<=t&&t<=46943||46945<=t&&t<=46971||46973<=t&&t<=46999||47001<=t&&t<=47027||47029<=t&&t<=47055||47057<=t&&t<=47083||47085<=t&&t<=47111||47113<=t&&t<=47139||47141<=t&&t<=47167||47169<=t&&t<=47195||47197<=t&&t<=47223||47225<=t&&t<=47251||47253<=t&&t<=47279||47281<=t&&t<=47307||47309<=t&&t<=47335||47337<=t&&t<=47363||47365<=t&&t<=47391||47393<=t&&t<=47419||47421<=t&&t<=47447||47449<=t&&t<=47475||47477<=t&&t<=47503||47505<=t&&t<=47531||47533<=t&&t<=47559||47561<=t&&t<=47587||47589<=t&&t<=47615||47617<=t&&t<=47643||47645<=t&&t<=47671||47673<=t&&t<=47699||47701<=t&&t<=47727||47729<=t&&t<=47755||47757<=t&&t<=47783||47785<=t&&t<=47811||47813<=t&&t<=47839||47841<=t&&t<=47867||47869<=t&&t<=47895||47897<=t&&t<=47923||47925<=t&&t<=47951||47953<=t&&t<=47979||47981<=t&&t<=48007||48009<=t&&t<=48035||48037<=t&&t<=48063||48065<=t&&t<=48091||48093<=t&&t<=48119||48121<=t&&t<=48147||48149<=t&&t<=48175||48177<=t&&t<=48203||48205<=t&&t<=48231||48233<=t&&t<=48259||48261<=t&&t<=48287||48289<=t&&t<=48315||48317<=t&&t<=48343||48345<=t&&t<=48371||48373<=t&&t<=48399||48401<=t&&t<=48427||48429<=t&&t<=48455||48457<=t&&t<=48483||48485<=t&&t<=48511||48513<=t&&t<=48539||48541<=t&&t<=48567||48569<=t&&t<=48595||48597<=t&&t<=48623||48625<=t&&t<=48651||48653<=t&&t<=48679||48681<=t&&t<=48707||48709<=t&&t<=48735||48737<=t&&t<=48763||48765<=t&&t<=48791||48793<=t&&t<=48819||48821<=t&&t<=48847||48849<=t&&t<=48875||48877<=t&&t<=48903||48905<=t&&t<=48931||48933<=t&&t<=48959||48961<=t&&t<=48987||48989<=t&&t<=49015||49017<=t&&t<=49043||49045<=t&&t<=49071||49073<=t&&t<=49099||49101<=t&&t<=49127||49129<=t&&t<=49155||49157<=t&&t<=49183||49185<=t&&t<=49211||49213<=t&&t<=49239||49241<=t&&t<=49267||49269<=t&&t<=49295||49297<=t&&t<=49323||49325<=t&&t<=49351||49353<=t&&t<=49379||49381<=t&&t<=49407||49409<=t&&t<=49435||49437<=t&&t<=49463||49465<=t&&t<=49491||49493<=t&&t<=49519||49521<=t&&t<=49547||49549<=t&&t<=49575||49577<=t&&t<=49603||49605<=t&&t<=49631||49633<=t&&t<=49659||49661<=t&&t<=49687||49689<=t&&t<=49715||49717<=t&&t<=49743||49745<=t&&t<=49771||49773<=t&&t<=49799||49801<=t&&t<=49827||49829<=t&&t<=49855||49857<=t&&t<=49883||49885<=t&&t<=49911||49913<=t&&t<=49939||49941<=t&&t<=49967||49969<=t&&t<=49995||49997<=t&&t<=50023||50025<=t&&t<=50051||50053<=t&&t<=50079||50081<=t&&t<=50107||50109<=t&&t<=50135||50137<=t&&t<=50163||50165<=t&&t<=50191||50193<=t&&t<=50219||50221<=t&&t<=50247||50249<=t&&t<=50275||50277<=t&&t<=50303||50305<=t&&t<=50331||50333<=t&&t<=50359||50361<=t&&t<=50387||50389<=t&&t<=50415||50417<=t&&t<=50443||50445<=t&&t<=50471||50473<=t&&t<=50499||50501<=t&&t<=50527||50529<=t&&t<=50555||50557<=t&&t<=50583||50585<=t&&t<=50611||50613<=t&&t<=50639||50641<=t&&t<=50667||50669<=t&&t<=50695||50697<=t&&t<=50723||50725<=t&&t<=50751||50753<=t&&t<=50779||50781<=t&&t<=50807||50809<=t&&t<=50835||50837<=t&&t<=50863||50865<=t&&t<=50891||50893<=t&&t<=50919||50921<=t&&t<=50947||50949<=t&&t<=50975||50977<=t&&t<=51003||51005<=t&&t<=51031||51033<=t&&t<=51059||51061<=t&&t<=51087||51089<=t&&t<=51115||51117<=t&&t<=51143||51145<=t&&t<=51171||51173<=t&&t<=51199||51201<=t&&t<=51227||51229<=t&&t<=51255||51257<=t&&t<=51283||51285<=t&&t<=51311||51313<=t&&t<=51339||51341<=t&&t<=51367||51369<=t&&t<=51395||51397<=t&&t<=51423||51425<=t&&t<=51451||51453<=t&&t<=51479||51481<=t&&t<=51507||51509<=t&&t<=51535||51537<=t&&t<=51563||51565<=t&&t<=51591||51593<=t&&t<=51619||51621<=t&&t<=51647||51649<=t&&t<=51675||51677<=t&&t<=51703||51705<=t&&t<=51731||51733<=t&&t<=51759||51761<=t&&t<=51787||51789<=t&&t<=51815||51817<=t&&t<=51843||51845<=t&&t<=51871||51873<=t&&t<=51899||51901<=t&&t<=51927||51929<=t&&t<=51955||51957<=t&&t<=51983||51985<=t&&t<=52011||52013<=t&&t<=52039||52041<=t&&t<=52067||52069<=t&&t<=52095||52097<=t&&t<=52123||52125<=t&&t<=52151||52153<=t&&t<=52179||52181<=t&&t<=52207||52209<=t&&t<=52235||52237<=t&&t<=52263||52265<=t&&t<=52291||52293<=t&&t<=52319||52321<=t&&t<=52347||52349<=t&&t<=52375||52377<=t&&t<=52403||52405<=t&&t<=52431||52433<=t&&t<=52459||52461<=t&&t<=52487||52489<=t&&t<=52515||52517<=t&&t<=52543||52545<=t&&t<=52571||52573<=t&&t<=52599||52601<=t&&t<=52627||52629<=t&&t<=52655||52657<=t&&t<=52683||52685<=t&&t<=52711||52713<=t&&t<=52739||52741<=t&&t<=52767||52769<=t&&t<=52795||52797<=t&&t<=52823||52825<=t&&t<=52851||52853<=t&&t<=52879||52881<=t&&t<=52907||52909<=t&&t<=52935||52937<=t&&t<=52963||52965<=t&&t<=52991||52993<=t&&t<=53019||53021<=t&&t<=53047||53049<=t&&t<=53075||53077<=t&&t<=53103||53105<=t&&t<=53131||53133<=t&&t<=53159||53161<=t&&t<=53187||53189<=t&&t<=53215||53217<=t&&t<=53243||53245<=t&&t<=53271||53273<=t&&t<=53299||53301<=t&&t<=53327||53329<=t&&t<=53355||53357<=t&&t<=53383||53385<=t&&t<=53411||53413<=t&&t<=53439||53441<=t&&t<=53467||53469<=t&&t<=53495||53497<=t&&t<=53523||53525<=t&&t<=53551||53553<=t&&t<=53579||53581<=t&&t<=53607||53609<=t&&t<=53635||53637<=t&&t<=53663||53665<=t&&t<=53691||53693<=t&&t<=53719||53721<=t&&t<=53747||53749<=t&&t<=53775||53777<=t&&t<=53803||53805<=t&&t<=53831||53833<=t&&t<=53859||53861<=t&&t<=53887||53889<=t&&t<=53915||53917<=t&&t<=53943||53945<=t&&t<=53971||53973<=t&&t<=53999||54001<=t&&t<=54027||54029<=t&&t<=54055||54057<=t&&t<=54083||54085<=t&&t<=54111||54113<=t&&t<=54139||54141<=t&&t<=54167||54169<=t&&t<=54195||54197<=t&&t<=54223||54225<=t&&t<=54251||54253<=t&&t<=54279||54281<=t&&t<=54307||54309<=t&&t<=54335||54337<=t&&t<=54363||54365<=t&&t<=54391||54393<=t&&t<=54419||54421<=t&&t<=54447||54449<=t&&t<=54475||54477<=t&&t<=54503||54505<=t&&t<=54531||54533<=t&&t<=54559||54561<=t&&t<=54587||54589<=t&&t<=54615||54617<=t&&t<=54643||54645<=t&&t<=54671||54673<=t&&t<=54699||54701<=t&&t<=54727||54729<=t&&t<=54755||54757<=t&&t<=54783||54785<=t&&t<=54811||54813<=t&&t<=54839||54841<=t&&t<=54867||54869<=t&&t<=54895||54897<=t&&t<=54923||54925<=t&&t<=54951||54953<=t&&t<=54979||54981<=t&&t<=55007||55009<=t&&t<=55035||55037<=t&&t<=55063||55065<=t&&t<=55091||55093<=t&&t<=55119||55121<=t&&t<=55147||55149<=t&&t<=55175||55177<=t&&t<=55203?g:t==9757||t==9977||9994<=t&&t<=9997||t==127877||127938<=t&&t<=127940||t==127943||127946<=t&&t<=127948||128066<=t&&t<=128067||128070<=t&&t<=128080||t==128110||128112<=t&&t<=128120||t==128124||128129<=t&&t<=128131||128133<=t&&t<=128135||t==128170||128372<=t&&t<=128373||t==128378||t==128400||128405<=t&&t<=128406||128581<=t&&t<=128583||128587<=t&&t<=128591||t==128675||128692<=t&&t<=128694||t==128704||t==128716||129304<=t&&t<=129308||129310<=t&&t<=129311||t==129318||129328<=t&&t<=129337||129341<=t&&t<=129342||129489<=t&&t<=129501?w:127995<=t&&t<=127999?D:t==8205?B:t==9792||t==9794||9877<=t&&t<=9878||t==9992||t==10084||t==127752||t==127806||t==127859||t==127891||t==127908||t==127912||t==127979||t==127981||t==128139||128187<=t&&t<=128188||t==128295||t==128300||t==128488||t==128640||t==128658?A:128102<=t&&t<=128105?b:h}return this}r.exports&&(r.exports=s)})(Ms);var D0=Ms.exports;const o0=Ss(D0),St=new o0;class A0{constructor(s,n){this.pluign=s,this._monaco=n}provideDocumentFormattingEdits(s,n,e){const a=this.detectTables(s);return!a||e.isCancellationRequested?void 0:a.map(x=>({range:x.range,text:this.formatTable(x,s,n)}))}detectTables(s){const n=s.getValue(),e=String.raw`\r?\n`,a=String.raw`(?!\{:(?:\s+\w+="[^"]*")*\})`+String.raw`\|?.*\|.*\|?`,i=String.raw`(?:\|? *:?-+:? *\|)`,x=String.raw`(?: *:?-+:? *\|)*`,p=String.raw`(?: *:?-+:? *\|?)`,m=i+x+p,l=String.raw`(?:\| *:?-+:? *\|)`,u=String.raw`[ \t]*(?:${m}|${l})[ \t]*`,C=new RegExp(a+e+u+"(?:"+e+a+")*","g"),g=Array.from(n.matchAll(C),h=>({text:h[0],offset:h.index,range:this._monaco.Range.fromPositions(s.getPositionAt(h.index),s.getPositionAt(h.index+h[0].length))}));return g.length?g:void 0}getTableIndentation(s,n){let e=!1,a=new RegExp(/^(\s*)\S/u),i=s.match(a),x=(i==null?void 0:i[1].length)??0,p=Math.round(x/n.tabSize);return e?" ".repeat(n.tabSize*p):" ".repeat(x)}formatTable(s,n,e){const a=s.text.normalize(),i=1,x=!1,p=this.getTableIndentation(a,e),m=new RegExp(/^\s*(\S.*)$/gum),l=Array.from(a.matchAll(m),w=>w[1].trim()),u=[],C=[],g=new RegExp(/((\\\||[^\|])*)\|/gu),h=/[\u3000-\u9fff\uac00-\ud7af\uff01-\uff60]/g,_=l.map((w,D)=>{w.startsWith("|")&&(w=w.slice(1)),w.endsWith("|")||(w=w+"|");let B=[],A=0;for(const b of w.matchAll(g)){let y=b[1].trim();if(B.push(y),D===i)continue;const O=St.countGraphemes(y),k=y.match(h),R=O+((k==null?void 0:k.length)??0);u[A]=Math.max(u[A]||0,R),A++}return B});return _[i]=_[i].map((w,D)=>{if(/:-+:/.test(w)){C[D]=2,u[D]=Math.max(u[D],5);const B=u[D];return":"+"-".repeat(B-2)+":"}else if(/:-+/.test(w)){C[D]=1,u[D]=Math.max(u[D],4);const B=u[D];return":"+"-".repeat(B-1)}else if(/-+:/.test(w)){C[D]=3,u[D]=Math.max(u[D],4);const B=u[D];return"-".repeat(B-1)+":"}else{C[D]=0,u[D]=Math.max(u[D],3);const B=u[D];return"-".repeat(B)}}),_.map((w,D)=>{if(D===i&&x)return p+"|"+w.join("|")+"|";let B=w.map((A,b)=>{const y=u[b];let O=St.splitGraphemes(A+" ".repeat(y)).slice(0,y).join("").length;const k=A.match(h);return k&&(O-=k.length),this.alignText(A,C[b],O)});return p+"| "+B.join(" | ")+" |"}).join(n.getEOL())}alignText(s,n,e){return n===2&&e>s.length?(" ".repeat(Math.floor((e-s.length)/2))+s+" ".repeat(e)).slice(0,e):n===3?(" ".repeat(e)+s).slice(-e):(s+" ".repeat(e)).slice(0,e)}}const Tt=["sqrt","smash","macroname","includegraphics"],Lt=["\\","newline","nobreak","allowbreak","cr","cline","hline","multicolumn","KaTeX","LaTeX","TeX"],Mt=[],jt=[],Kt=["url"],Rt=["href","htmlId","htmlClass","htmlStyle","htmlData"],Pt=["'","`","^","~","=","u",".",'"',"r","H","v","tilde","mathring","widetilde","overgroup","utilde","undergroup","acute","vec","Overrightarrow","bar","overleftarrow","overrightarrow","breve","underleftarrow","underrightarrow","check","overleftharpoon","overrightharpoon","dot","overleftrightarrow","overbrace","ddot","underleftrightarrow","underbrace","grave","overline","overlinesegment","hat","underline","underlinesegment","widehat","widecheck","underbar"],Nt=["{","}","|","lparen","rparen","lceil","rceil","uparrow","lbrack","rbrack","lfloor","rfloor","downarrow","lbrace","rbrace","lmoustache","rmoustache","updownarrow","langle","rangle","lgroup","rgroup","Uparrow","vert","ulcorner","urcorner","Downarrow","Vert","llcorner","lrcorner","Updownarrow","lvert","rvert","lVert","rVert","backslash","lang","rang","lt","gt","llbracket","rrbracket","lBrace","rBrace"],zt=["left","big","bigl","bigm","bigr","middle","Big","Bigl","Bigm","Bigr","right","bigg","biggl","biggm","biggr","Bigg","Biggl","Biggm","Biggr"],Ht=["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","varGamma","varDelta","varTheta","varLambda","varXi","varPi","varSigma","varUpsilon","varPhi","varPsi","varOmega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","varkappa","vartheta","thetasym","varpi","varrho","varsigma","varphi","digamma"],Vt=["imath","nabla","Im","Reals","jmath","partial","image","wp","aleph","Game","Bbbk","weierp","alef","Finv","N","Z","alefsym","cnums","natnums","beth","Complex","R","gimel","ell","Re","daleth","hbar","real","eth","hslash","reals"],Gt=["cancel","overbrace","bcancel","underbrace","xcancel","not =","sout","boxed","phase","tag","tag*"],Ut=["atop"],Wt=["substack"],Xt=["stackrel","overset","underset","raisebox"],Jt=["mathllap","mathrlap","mathclap","llap","rlap","clap","smash"],Zt=[",","!",">",":",";","thinspace","medspace","thickspace","enspace","quad","qquad","negthinspace","negmedspace","nobreakspace","negthickspace","space","mathstrut"],$t=["kern","mkern","mskip","hskip","hspace","hspace*","phantom","hphantom","vphantom"],Yt=["forall","complement","therefore","emptyset","exists","subset","because","empty","exist","supset","mapsto","varnothing","nexists","mid","to","implies","in","land","gets","impliedby","isin","lor","leftrightarrow","iff","notin","ni","notni","neg","lnot"],Qt=["Set","set"],ct=["def","gdef","edef","xdef","let","futurelet","global","newcommand","renewcommand","providecommand","long","char","mathchoice","TextOrMath","@ifstar","@ifnextchar","@firstoftwo","@secondoftwo","relax","expandafter","noexpand"],dt=["sum","prod","bigotimes","bigvee","int","coprod","bigoplus","bigwedge","iint","intop","bigodot","bigcap","iiint","smallint","biguplus","bigcup","oint","oiint","oiiint","bigsqcup"],ts=["cdot","gtrdot","pmod","cdotp","intercal","pod","centerdot","land","rhd","circ","leftthreetimes","rightthreetimes","amalg","circledast","ldotp","rtimes","And","circledcirc","lor","setminus","ast","circleddash","lessdot","smallsetminus","barwedge","Cup","lhd","sqcap","bigcirc","cup","ltimes","sqcup","bmod","curlyvee","times","boxdot","curlywedge","mp","unlhd","boxminus","div","odot","unrhd","boxplus","divideontimes","ominus","uplus","boxtimes","dotplus","oplus","vee","bullet","doublebarwedge","otimes","veebar","Cap","doublecap","oslash","wedge","cap","doublecup","pm","plusmn","wr"],ss=["over","above"],ns=["frac","dfrac","tfrac","cfrac","genfrac"],rs=["choose"],es=["binom","dbinom","tbinom","brace","brack"],as=["arcsin","cosec","deg","sec","arccos","cosh","dim","sin","arctan","cot","exp","sinh","arctg","cotg","hom","sh","arcctg","coth","ker","tan","arg","csc","lg","tanh","ch","ctg","ln","tg","cos","cth","log","th","argmax","injlim","min","varinjlim","argmin","lim","plim","varliminf","det","liminf","Pr","varlimsup","gcd","limsup","projlim","varprojlim","inf","max","sup"],is=["operatorname","operatorname*","operatornamewithlimits"],xs=["sqrt"],ls=["doteqdot","lessapprox","smile","eqcirc","lesseqgtr","sqsubset","eqcolon","minuscolon","lesseqqgtr","sqsubseteq","Eqcolon","minuscoloncolon","lessgtr","sqsupset","approx","eqqcolon","equalscolon","lesssim","sqsupseteq","approxcolon","Eqqcolon","equalscoloncolon","ll","Subset","approxcoloncolon","eqsim","lll","subset","sub","approxeq","eqslantgtr","llless","subseteq","sube","asymp","eqslantless","lt","subseteqq","backepsilon","equiv","mid","succ","backsim","fallingdotseq","models","succapprox","backsimeq","frown","multimap","succcurlyeq","between","ge","origof","succeq","bowtie","geq","owns","succsim","bumpeq","geqq","parallel","Supset","Bumpeq","geqslant","perp","supset","circeq","gg","pitchfork","supseteq","supe","colonapprox","ggg","prec","supseteqq","Colonapprox","coloncolonapprox","gggtr","precapprox","thickapprox","coloneq","colonminus","gt","preccurlyeq","thicksim","Coloneq","coloncolonminus","gtrapprox","preceq","trianglelefteq","coloneqq","colonequals","gtreqless","precsim","triangleq","Coloneqq","coloncolonequals","gtreqqless","propto","trianglerighteq","colonsim","gtrless","risingdotseq","varpropto","Colonsim","coloncolonsim","gtrsim","shortmid","vartriangle","cong","imageof","shortparallel","vartriangleleft","curlyeqprec","in","isin","sim","vartriangleright","curlyeqsucc","Join","simcolon","vcentcolon","ratio","dashv","le","simcoloncolon","vdash","dblcolon","coloncolon","leq","simeq","vDash","doteq","leqq","smallfrown","Vdash","Doteq","leqslant","smallsmile","Vvdash"],us=["gnapprox","ngeqslant","nsubseteq","precneqq","gneq","ngtr","nsubseteqq","precnsim","gneqq","nleq","nsucc","subsetneq","gnsim","nleqq","nsucceq","subsetneqq","gvertneqq","nleqslant","nsupseteq","succnapprox","lnapprox","nless","nsupseteqq","succneqq","lneq","nmid","ntriangleleft","succnsim","lneqq","notin","ntrianglelefteq","supsetneq","lnsim","notni","ntriangleright","supsetneqq","lvertneqq","nparallel","ntrianglerighteq","varsubsetneq","ncong","nprec","nvdash","varsubsetneqq","ne","npreceq","nvDash","varsupsetneq","neq","nshortmid","nVDash","varsupsetneqq","ngeq","nshortparallel","nVdash","ngeqq","nsim","precnapprox"],hs=["circlearrowleft","leftharpoonup","rArr","circlearrowright","leftleftarrows","rarr","curvearrowleft","leftrightarrow","restriction","curvearrowright","Leftrightarrow","rightarrow","Darr","leftrightarrows","Rightarrow","dArr","leftrightharpoons","rightarrowtail","darr","leftrightsquigarrow","rightharpoondown","dashleftarrow","Lleftarrow","rightharpoonup","dashrightarrow","longleftarrow","rightleftarrows","downarrow","Longleftarrow","rightleftharpoons","Downarrow","longleftrightarrow","rightrightarrows","downdownarrows","Longleftrightarrow","rightsquigarrow","downharpoonleft","longmapsto","Rrightarrow","downharpoonright","longrightarrow","Rsh","gets","Longrightarrow","searrow","Harr","looparrowleft","swarrow","hArr","looparrowright","to","harr","Lrarr","twoheadleftarrow","hookleftarrow","lrArr","twoheadrightarrow","hookrightarrow","lrarr","Uarr","iff","Lsh","uArr","impliedby","mapsto","uarr","implies","nearrow","uparrow","Larr","nleftarrow","Uparrow","lArr","nLeftarrow","updownarrow","larr","nleftrightarrow","Updownarrow","leadsto","nLeftrightarrow","upharpoonleft","leftarrow","nrightarrow","upharpoonright","Leftarrow","nRightarrow","upuparrows","leftarrowtail","nwarrow","leftharpoondown","Rarr"],ft=["xleftarrow","xrightarrow","xLeftarrow","xRightarrow","xleftrightarrow","xLeftrightarrow","xhookleftarrow","xhookrightarrow","xtwoheadleftarrow","xtwoheadrightarrow","xleftharpoonup","xrightharpoonup","xleftharpoondown","xrightharpoondown","xleftrightharpoons","xrightleftharpoons","xtofrom","xmapsto","xlongequal"],gs=["bra","Bra","ket","Ket","braket","Braket"],fs=["mathbin","mathclose","mathinner","mathop","mathopen","mathord","mathpunct","mathrel"],ms=["color","textcolor","colorbox"],Cs=["cal","rm","bf","it","sf","tt"],ps=["mathrm","mathbf","mathit","mathnormal","textbf","textit","textrm","bold","Bbb","textnormal","boldsymbol","mathbb","text","bm","frak","mathsf","mathtt","mathfrak","textsf","texttt","mathcal","mathscr","pmb"],Bs=["Huge","huge","LARGE","Large","large","normalsize","small","footnotesize","scriptsize","tiny"],Ds=["displaystyle","textstyle","scriptstyle","scriptscriptstyle","limits","nolimits","verb"],os=["%","#","&","_","$","P","S","KaTeX","cdots","LaTeX","ddots","TeX","ldots","nabla","vdots","infty","dotsb","infin","dotsc","checkmark","dotsi","dag","dotsm","dagger","dotso","sdot","ddag","mathellipsis","ddagger","Box","Dagger","lq","square","angle","blacksquare","measuredangle","rq","triangle","sphericalangle","triangledown","top","triangleleft","bot","triangleright","colon","bigtriangledown","backprime","bigtriangleup","pounds","prime","blacktriangle","mathsterling","blacktriangledown","blacktriangleleft","yen","blacktriangleright","surd","diamond","degree","Diamond","lozenge","mho","blacklozenge","diagdown","star","diagup","bigstar","flat","clubsuit","natural","copyright","clubs","sharp","circledR","diamondsuit","heartsuit","diamonds","hearts","circledS","spadesuit","spades","maltese","minuso"],As=["message","errmessage","show"],Fs=["matrix","array","pmatrix","bmatrix","vmatrix","Vmatrix","Bmatrix","cases","rcases","smallmatrix","subarray","equation","split","align","gather","alignat","CD","darray","dcases","drcases","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","equation*","gather*","align*","alignat*","gathered","aligned","alignedat"];class At{constructor(s,n){I(this,"triggerCharacters",["\\"]);I(this,"katexFuncName2Info");I(this,"katexFuncName2detail");I(this,"inlineMathSuggestions");I(this,"displayMathSuggestions");I(this,"inlineMathSuggestionsJSON");I(this,"displayMathSuggestionsJSON");this.pluign=s,this._monaco=n,this.katexFuncName2Info=this.buildKatexFuncsInfoMap(),this.katexFuncName2detail=this.buildKatexFuncsDetailMap(),this.inlineMathSuggestions=this.buildMathSuggestions(" ",""),this.displayMathSuggestions=this.buildMathSuggestions(`
`,"	"),this.inlineMathSuggestionsJSON=JSON.stringify(this.inlineMathSuggestions),this.displayMathSuggestionsJSON=JSON.stringify(this.displayMathSuggestions)}static mathEnvCheck(s,n){const e=s.getValue(),a=s.getOffsetAt(n),i=s.getLineContent(n.lineNumber),x=i.substring(0,n.column-1),p=i.substring(n.column-1),m=x.match(new RegExp("(?<=^|[^\\\\])\\$","g"));if(m!==null&&m.length%2!==0&&p.includes("$"))return 1;{const l=e.substring(0,a),u=e.substring(a),C=l.match(/\$\$/g);return C!==null&&C.length%2!==0&&u.includes("$$")?2:0}}async provideCompletionItems(s,n,e,a){const i=At.mathEnvCheck(s,n),x=s.getLineContent(n.lineNumber).substring(0,n.column-1);switch(s.getLineContent(n.lineNumber).substring(n.column-1),e.triggerCharacter){case this.triggerCharacters[0]:{const p=x.match(/\\+$/);if(p!==null&&p[0].length%2!==0)switch(i){case 1:return{suggestions:JSON.parse(this.inlineMathSuggestionsJSON),incomplete:!1};case 2:return{suggestions:JSON.parse(this.displayMathSuggestionsJSON),incomplete:!1}}break}}return{suggestions:[],incomplete:!1}}async resolveCompletionItem(s,n){return s}makeDocumentation(s="",n=" | "){const e=["[KaTeX](https://katex.org/)","[Functions](https://katex.org/docs/supported)","[Reference](https://katex.org/docs/support_table)"];return s&&e.push(`[${s}](<https://katex.org/docs/support_table#:~:text=${s}>)`),{value:e.join(n)}}setKatexFuncsInfo(s,n,e,a){s.set(n,{name:n,description:e,kind:a,documentation:this.makeDocumentation(`\\${n}`)})}buildKatexFuncsInfoMap(){const s=new Map;return Tt.forEach(n=>this.setKatexFuncsInfo(s,n,"Special",this._monaco.languages.CompletionItemKind.Variable)),Lt.forEach(n=>this.setKatexFuncsInfo(s,n,"Other",this._monaco.languages.CompletionItemKind.Field)),Mt.forEach(n=>this.setKatexFuncsInfo(s,n,"Other",this._monaco.languages.CompletionItemKind.Function)),jt.forEach(n=>this.setKatexFuncsInfo(s,n,"Other",this._monaco.languages.CompletionItemKind.Class)),Kt.forEach(n=>this.setKatexFuncsInfo(s,n,"HTML",this._monaco.languages.CompletionItemKind.Reference)),Rt.forEach(n=>this.setKatexFuncsInfo(s,n,"HTML",this._monaco.languages.CompletionItemKind.Reference)),Pt.forEach(n=>this.setKatexFuncsInfo(s,n,"Accent",this._monaco.languages.CompletionItemKind.Event)),Gt.forEach(n=>this.setKatexFuncsInfo(s,n,"Annotation",this._monaco.languages.CompletionItemKind.Text)),hs.forEach(n=>this.setKatexFuncsInfo(s,n,"Arrow",this._monaco.languages.CompletionItemKind.Interface)),dt.forEach(n=>this.setKatexFuncsInfo(s,n,"Big Operator",this._monaco.languages.CompletionItemKind.Operator)),ts.forEach(n=>this.setKatexFuncsInfo(s,n,"Binary Operator",this._monaco.languages.CompletionItemKind.Operator)),rs.forEach(n=>this.setKatexFuncsInfo(s,n,"Binomial",this._monaco.languages.CompletionItemKind.Operator)),es.forEach(n=>this.setKatexFuncsInfo(s,n,"Binomial",this._monaco.languages.CompletionItemKind.Operator)),gs.forEach(n=>this.setKatexFuncsInfo(s,n,"Bra-ket Notation",this._monaco.languages.CompletionItemKind.Operator)),fs.forEach(n=>this.setKatexFuncsInfo(s,n,"Class Assignment",this._monaco.languages.CompletionItemKind.Class)),ms.forEach(n=>this.setKatexFuncsInfo(s,n,"Color",this._monaco.languages.CompletionItemKind.Color)),As.forEach(n=>this.setKatexFuncsInfo(s,n,"Debug",this._monaco.languages.CompletionItemKind.Property)),zt.forEach(n=>this.setKatexFuncsInfo(s,n,"Delimiter Sizing",this._monaco.languages.CompletionItemKind.Operator)),Nt.forEach(n=>this.setKatexFuncsInfo(s,n,"Delimiter",this._monaco.languages.CompletionItemKind.Operator)),Fs.forEach(n=>this.setKatexFuncsInfo(s,n,"Environment",this._monaco.languages.CompletionItemKind.EnumMember)),ft.forEach(n=>this.setKatexFuncsInfo(s,n,"Extensible Arrow",this._monaco.languages.CompletionItemKind.Interface)),Cs.forEach(n=>this.setKatexFuncsInfo(s,n,"Font",this._monaco.languages.CompletionItemKind.Text)),ps.forEach(n=>this.setKatexFuncsInfo(s,n,"Font",this._monaco.languages.CompletionItemKind.Text)),ss.forEach(n=>this.setKatexFuncsInfo(s,n,"Fraction",this._monaco.languages.CompletionItemKind.Operator)),ns.forEach(n=>this.setKatexFuncsInfo(s,n,"Fraction",this._monaco.languages.CompletionItemKind.Operator)),Ht.forEach(n=>this.setKatexFuncsInfo(s,n,"Greek Letter",this._monaco.languages.CompletionItemKind.Text)),Yt.forEach(n=>this.setKatexFuncsInfo(s,n,"Logic & Set",this._monaco.languages.CompletionItemKind.Module)),Qt.forEach(n=>this.setKatexFuncsInfo(s,n,"Logic & Set",this._monaco.languages.CompletionItemKind.Module)),ct.forEach(n=>this.setKatexFuncsInfo(s,n,"Macros",this._monaco.languages.CompletionItemKind.Keyword)),as.forEach(n=>this.setKatexFuncsInfo(s,n,"Math Operator",this._monaco.languages.CompletionItemKind.Operator)),is.forEach(n=>this.setKatexFuncsInfo(s,n,"Math Operator",this._monaco.languages.CompletionItemKind.Operator)),us.forEach(n=>this.setKatexFuncsInfo(s,n,"Negated Relation",this._monaco.languages.CompletionItemKind.Interface)),Vt.forEach(n=>this.setKatexFuncsInfo(s,n,"Other Letter",this._monaco.languages.CompletionItemKind.Text)),Jt.forEach(n=>this.setKatexFuncsInfo(s,n,"Overlap",this._monaco.languages.CompletionItemKind.Struct)),ls.forEach(n=>this.setKatexFuncsInfo(s,n,"Relation",this._monaco.languages.CompletionItemKind.Interface)),Bs.forEach(n=>this.setKatexFuncsInfo(s,n,"Size",this._monaco.languages.CompletionItemKind.Value)),Zt.forEach(n=>this.setKatexFuncsInfo(s,n,"Spacing",this._monaco.languages.CompletionItemKind.Operator)),$t.forEach(n=>this.setKatexFuncsInfo(s,n,"Spacing",this._monaco.languages.CompletionItemKind.Operator)),xs.forEach(n=>this.setKatexFuncsInfo(s,n,"SQRT",this._monaco.languages.CompletionItemKind.Operator)),Ds.forEach(n=>this.setKatexFuncsInfo(s,n,"Style",this._monaco.languages.CompletionItemKind.Color)),os.forEach(n=>this.setKatexFuncsInfo(s,n,"Symbols & Punctuation",this._monaco.languages.CompletionItemKind.Operator)),Ut.forEach(n=>this.setKatexFuncsInfo(s,n,"Vertical Layout",this._monaco.languages.CompletionItemKind.Struct)),Wt.forEach(n=>this.setKatexFuncsInfo(s,n,"Vertical Layout",this._monaco.languages.CompletionItemKind.Struct)),Xt.forEach(n=>this.setKatexFuncsInfo(s,n,"Vertical Layout",this._monaco.languages.CompletionItemKind.Struct)),s}buildKatexFuncsDetailMap(){const s=new Map;return s.set("acute","   "),s.set("'","   "),s.set("bar","   "),s.set("=","   "),s.set("breve","   "),s.set("u","   "),s.set("check","   "),s.set("v","   "),s.set("dot","  a "),s.set(".","  a "),s.set("ddot","   "),s.set('"',"   "),s.set("grave","   "),s.set("`","   "),s.set("hat","   "),s.set("^","   "),s.set("tilde","   "),s.set("~","   "),s.set("mathring","   o"),s.set("r","   o"),s.set("H","  a "),s.set("lparen","("),s.set("rparen",")"),s.set("lbrack","["),s.set("rbrack","]"),s.set("lbrace","{"),s.set("rbrace","{"),s.set("{","{"),s.set("}","}"),s.set("langle",""),s.set("rangle",""),s.set("vert","|"),s.set("Vert",""),s.set("|",""),s.set("lvert",""),s.set("rvert",""),s.set("lVert",""),s.set("rVert",""),s.set("lang",""),s.set("rang",""),s.set("lt","<"),s.set("gt",">"),s.set("lceil",""),s.set("rceil",""),s.set("lfloor",""),s.set("rfloor",""),s.set("lmoustache",""),s.set("rmoustache",""),s.set("lgroup",""),s.set("rgroup",""),s.set("ulcorner",""),s.set("urcorner",""),s.set("llcorner",""),s.set("lrcorner",""),s.set("llbracket",""),s.set("rrbracket",""),s.set("lBrace",""),s.set("rBrace",""),s.set("Alpha","A"),s.set("Beta","B"),s.set("Gamma",""),s.set("Delta",""),s.set("Epsilon","E"),s.set("Zeta","Z"),s.set("Eta","H"),s.set("Theta",""),s.set("Iota","I"),s.set("Kappa","K"),s.set("Lambda",""),s.set("Mu","M"),s.set("Nu","N"),s.set("Xi",""),s.set("Omicron","O"),s.set("Pi",""),s.set("Rho","P"),s.set("Sigma",""),s.set("Tau","T"),s.set("Upsilon",""),s.set("Phi",""),s.set("Chi","X"),s.set("Psi",""),s.set("Omega",""),s.set("varGamma",""),s.set("varDelta",""),s.set("varTheta",""),s.set("varLambda",""),s.set("varXi",""),s.set("varPi",""),s.set("varSigma",""),s.set("varUpsilon",""),s.set("varPhi",""),s.set("varPsi",""),s.set("varOmega",""),s.set("alpha",""),s.set("beta",""),s.set("gamma",""),s.set("delta",""),s.set("epsilon",""),s.set("zeta",""),s.set("eta",""),s.set("theta",""),s.set("iota",""),s.set("kappa",""),s.set("lambda",""),s.set("mu",""),s.set("nu",""),s.set("omicron","o"),s.set("xi",""),s.set("pi",""),s.set("rho",""),s.set("sigma",""),s.set("tau",""),s.set("upsilon",""),s.set("phi",""),s.set("chi",""),s.set("psi",""),s.set("omega",""),s.set("varepsilon",""),s.set("varkappa",""),s.set("vartheta",""),s.set("thetasym",""),s.set("varpi",""),s.set("varrho",""),s.set("varsigma",""),s.set("varphi",""),s.set("digamma",""),s.set("imath",""),s.set("nabla",""),s.set("Im",""),s.set("Reals","R"),s.set("OE",""),s.set("jmath",""),s.set("partial",""),s.set("image",""),s.set("wp",""),s.set("o",""),s.set("aleph",""),s.set("Game",""),s.set("Bbbk","k"),s.set("weierp",""),s.set("O",""),s.set("alef",""),s.set("Finv",""),s.set("N","N"),s.set("Z","Z"),s.set("ss",""),s.set("alefsym",""),s.set("cnums","C"),s.set("natnums","N"),s.set("aa",""),s.set("i",""),s.set("beth",""),s.set("Complex","C"),s.set("R","R"),s.set("AA",""),s.set("j",""),s.set("gimel",""),s.set("ell",""),s.set("Re",""),s.set("ae",""),s.set("daleth",""),s.set("hbar",""),s.set("real",""),s.set("AE",""),s.set("eth",""),s.set("hslash",""),s.set("reals","R"),s.set("oe",""),s.set(","," em"),s.set("thinspace"," em"),s.set(">"," em"),s.set(":"," em"),s.set("medspace"," em"),s.set(";"," em"),s.set("thickspace"," em"),s.set("enspace"," em"),s.set("quad","1 em"),s.set("qquad","2 em"),s.set("!"," em"),s.set("negthinspace"," em"),s.set("negmedspace"," em"),s.set("negthickspace"," em"),s.set("forall",""),s.set("complement",""),s.set("therefore",""),s.set("emptyset",""),s.set("exists",""),s.set("subset",""),s.set("because",""),s.set("empty",""),s.set("exist",""),s.set("supset",""),s.set("mapsto",""),s.set("varnothing",""),s.set("nexists",""),s.set("mid",""),s.set("to",""),s.set("implies",""),s.set("in",""),s.set("land",""),s.set("gets",""),s.set("impliedby",""),s.set("isin",""),s.set("lor",""),s.set("leftrightarrow",""),s.set("iff",""),s.set("notin",""),s.set("ni",""),s.set("notni",""),s.set("neg",""),s.set("lnot",""),s.set("sum",""),s.set("prod",""),s.set("bigotimes",""),s.set("bigvee",""),s.set("int",""),s.set("coprod",""),s.set("bigoplus",""),s.set("bigwedge",""),s.set("iint",""),s.set("intop",""),s.set("bigodot",""),s.set("bigcap",""),s.set("iiint",""),s.set("smallint",""),s.set("biguplus",""),s.set("bigcup",""),s.set("oint",""),s.set("oiint",""),s.set("oiiint",""),s.set("bigsqcup",""),s.set("amalg",""),s.set("And","&"),s.set("ast",""),s.set("barwedge",""),s.set("bigcirc",""),s.set("bmod","mod"),s.set("boxdot",""),s.set("boxminus",""),s.set("boxplus",""),s.set("boxtimes",""),s.set("bullet",""),s.set("Cap",""),s.set("cap",""),s.set("cdot",""),s.set("cdotp",""),s.set("centerdot",""),s.set("circ",""),s.set("circledast",""),s.set("circledcirc",""),s.set("circleddash",""),s.set("Cup",""),s.set("cup",""),s.set("curlyvee",""),s.set("curlywedge",""),s.set("div",""),s.set("divideontimes",""),s.set("dotplus",""),s.set("doublebarwedge",""),s.set("doublecap",""),s.set("doublecup",""),s.set("gtrdot",""),s.set("intercal",""),s.set("land",""),s.set("leftthreetimes",""),s.set("ldotp","."),s.set("lor",""),s.set("lessdot",""),s.set("lhd",""),s.set("ltimes",""),s.set("mod","mod"),s.set("mp",""),s.set("odot",""),s.set("ominus",""),s.set("oplus",""),s.set("otimes",""),s.set("oslash",""),s.set("pm",""),s.set("plusmn",""),s.set("pmod","(mod )"),s.set("pod","()"),s.set("rhd",""),s.set("rightthreetimes",""),s.set("rtimes",""),s.set("setminus",""),s.set("smallsetminus",""),s.set("sqcap",""),s.set("sqcup",""),s.set("times",""),s.set("unlhd",""),s.set("unrhd",""),s.set("uplus",""),s.set("vee",""),s.set("veebar",""),s.set("wedge",""),s.set("wr",""),s.set("arcsin","arcsin"),s.set("arccos","arccos"),s.set("arctan","arctan"),s.set("arctg","arctg"),s.set("arcctg","arcctg"),s.set("arg","arg"),s.set("ch","ch"),s.set("cos","cos"),s.set("argmax","arg max"),s.set("argmin","arg min"),s.set("det","det"),s.set("gcd","gcd"),s.set("inf","inf"),s.set("cosec","cosec"),s.set("cosh","cosh"),s.set("cot","cot"),s.set("cotg","cotg"),s.set("coth","coth"),s.set("csc","csc"),s.set("ctg","ctg"),s.set("cth","cth"),s.set("injlim","inj lim"),s.set("lim","lim"),s.set("liminf","lim inf"),s.set("limsup","lim sup"),s.set("max","max"),s.set("deg","deg"),s.set("dim","dim"),s.set("exp","exp"),s.set("hom","hom"),s.set("ker","ker"),s.set("lg","lg"),s.set("ln","ln"),s.set("log","log"),s.set("min","min"),s.set("plim","plim"),s.set("Pr","Pr"),s.set("projlim","proj lim"),s.set("sup","sup"),s.set("sec","sec"),s.set("sin","sin"),s.set("sinh","sinh"),s.set("sh","sh"),s.set("tan","tan"),s.set("tanh","tanh"),s.set("tg","tg"),s.set("th","th"),s.set("operatorname","f"),s.set("operatorname*","f"),s.set("operatornamewithlimits","f"),s.set("not =","="),s.set("=","="),s.set("<","<"),s.set(">",">"),s.set(":",":"),s.set("approx",""),s.set("approxcolon",":"),s.set("approxcoloncolon",""),s.set("approxeq",""),s.set("asymp",""),s.set("backepsilon",""),s.set("backsim",""),s.set("backsimeq",""),s.set("between",""),s.set("bowtie",""),s.set("bumpeq",""),s.set("Bumpeq",""),s.set("circeq",""),s.set("colonapprox",":"),s.set("Colonapprox",""),s.set("coloncolonapprox",""),s.set("coloneq",":"),s.set("colonminus",":"),s.set("Coloneq",""),s.set("coloncolonminus",""),s.set("coloneqq",""),s.set("colonequals",""),s.set("Coloneqq","="),s.set("coloncolonequals","="),s.set("colonsim",":"),s.set("Colonsim",""),s.set("coloncolonsim",""),s.set("cong",""),s.set("curlyeqprec",""),s.set("curlyeqsucc",""),s.set("dashv",""),s.set("dblcolon",""),s.set("coloncolon",""),s.set("doteq",""),s.set("Doteq",""),s.set("doteqdot",""),s.set("eqcirc",""),s.set("eqcolon",""),s.set("minuscolon",""),s.set("Eqcolon",""),s.set("minuscoloncolon",""),s.set("eqqcolon",""),s.set("equalscolon",""),s.set("Eqqcolon","="),s.set("equalscoloncolon","="),s.set("eqsim",""),s.set("eqslantgtr",""),s.set("eqslantless",""),s.set("equiv",""),s.set("fallingdotseq",""),s.set("frown",""),s.set("ge",""),s.set("geq",""),s.set("geqq",""),s.set("geqslant",""),s.set("gg",""),s.set("ggg",""),s.set("gggtr",""),s.set("gt",">"),s.set("gtrapprox",""),s.set("gtreqless",""),s.set("gtreqqless",""),s.set("gtrless",""),s.set("gtrsim",""),s.set("imageof",""),s.set("in",""),s.set("isin",""),s.set("Join",""),s.set("le",""),s.set("leq",""),s.set("leqq",""),s.set("leqslant",""),s.set("lessapprox",""),s.set("lesseqgtr",""),s.set("lesseqqgtr",""),s.set("lessgtr",""),s.set("lesssim",""),s.set("lll",""),s.set("llless",""),s.set("lt","<"),s.set("mid",""),s.set("models",""),s.set("multimap",""),s.set("origof",""),s.set("owns",""),s.set("parallel",""),s.set("perp",""),s.set("pitchfork",""),s.set("prec",""),s.set("precapprox",""),s.set("preccurlyeq",""),s.set("preceq",""),s.set("precsim",""),s.set("propto",""),s.set("risingdotseq",""),s.set("shortmid",""),s.set("shortparallel",""),s.set("sim",""),s.set("simcolon",":"),s.set("simcoloncolon",""),s.set("simeq",""),s.set("smallfrown",""),s.set("smallsmile",""),s.set("smile",""),s.set("sqsubset",""),s.set("sqsubseteq",""),s.set("sqsupset",""),s.set("sqsupseteq",""),s.set("subset",""),s.set("sub",""),s.set("subseteq",""),s.set("sube",""),s.set("subseteqq",""),s.set("succ",""),s.set("succapprox",""),s.set("succcurlyeq",""),s.set("succeq",""),s.set("succsim",""),s.set("Supset",""),s.set("supset",""),s.set("supseteq",""),s.set("supe",""),s.set("supseteqq",""),s.set("thickapprox",""),s.set("thicksim",""),s.set("trianglelefteq",""),s.set("triangleq",""),s.set("trianglerighteq",""),s.set("varpropto",""),s.set("vartriangle",""),s.set("vartriangleleft",""),s.set("vartriangleright",""),s.set("vcentcolon",":"),s.set("ratio",":"),s.set("vdash",""),s.set("vDash",""),s.set("Vdash",""),s.set("Vvdash",""),s.set("not =","="),s.set("gnapprox",""),s.set("gneq",""),s.set("gneqq",""),s.set("gnsim",""),s.set("gvertneqq",""),s.set("lnapprox",""),s.set("lneq",""),s.set("lneqq",""),s.set("lnsim",""),s.set("lvertneqq",""),s.set("ncong",""),s.set("ne",""),s.set("neq",""),s.set("ngeq",""),s.set("ngeqq",""),s.set("ngeqslant",""),s.set("ngtr",""),s.set("nleq",""),s.set("nleqq",""),s.set("nleqslant",""),s.set("nless",""),s.set("nmid",""),s.set("notin",""),s.set("notni",""),s.set("nparallel",""),s.set("nprec",""),s.set("npreceq",""),s.set("nshortmid",""),s.set("nshortparallel",""),s.set("nsim",""),s.set("nsubseteq",""),s.set("nsubseteqq",""),s.set("nsucc",""),s.set("nsucceq",""),s.set("nsupseteq",""),s.set("nsupseteqq",""),s.set("ntriangleleft",""),s.set("ntrianglelefteq",""),s.set("ntriangleright",""),s.set("ntrianglerighteq",""),s.set("nvdash",""),s.set("nvDash",""),s.set("nVDash",""),s.set("nVdash",""),s.set("precnapprox",""),s.set("precneqq",""),s.set("precnsim",""),s.set("subsetneq",""),s.set("subsetneqq",""),s.set("succnapprox",""),s.set("succneqq",""),s.set("succnsim",""),s.set("supsetneq",""),s.set("supsetneqq",""),s.set("varsubsetneq",""),s.set("varsubsetneqq",""),s.set("varsupsetneq",""),s.set("varsupsetneqq",""),s.set("circlearrowleft",""),s.set("circlearrowright",""),s.set("curvearrowleft",""),s.set("curvearrowright",""),s.set("Darr",""),s.set("dArr",""),s.set("darr",""),s.set("dashleftarrow",""),s.set("dashrightarrow",""),s.set("downarrow",""),s.set("Downarrow",""),s.set("downdownarrows",""),s.set("downharpoonleft",""),s.set("downharpoonright",""),s.set("gets",""),s.set("Harr",""),s.set("hArr",""),s.set("harr",""),s.set("hookleftarrow",""),s.set("hookrightarrow",""),s.set("iff",""),s.set("impliedby",""),s.set("implies",""),s.set("Larr",""),s.set("lArr",""),s.set("larr",""),s.set("leadsto",""),s.set("leftarrow",""),s.set("Leftarrow",""),s.set("leftarrowtail",""),s.set("leftharpoondown",""),s.set("leftharpoonup",""),s.set("leftleftarrows",""),s.set("leftrightarrow",""),s.set("Leftrightarrow",""),s.set("leftrightarrows",""),s.set("leftrightharpoons",""),s.set("leftrightsquigarrow",""),s.set("Lleftarrow",""),s.set("longleftarrow",""),s.set("Longleftarrow",""),s.set("longleftrightarrow",""),s.set("Longleftrightarrow",""),s.set("longmapsto",""),s.set("longrightarrow",""),s.set("Longrightarrow",""),s.set("looparrowleft",""),s.set("looparrowright",""),s.set("Lrarr",""),s.set("lrArr",""),s.set("lrarr",""),s.set("Lsh",""),s.set("mapsto",""),s.set("nearrow",""),s.set("nleftarrow",""),s.set("nLeftarrow",""),s.set("nleftrightarrow",""),s.set("nLeftrightarrow",""),s.set("nrightarrow",""),s.set("nRightarrow",""),s.set("nwarrow",""),s.set("Rarr",""),s.set("rArr",""),s.set("rarr",""),s.set("restriction",""),s.set("rightarrow",""),s.set("Rightarrow",""),s.set("rightarrowtail",""),s.set("rightharpoondown",""),s.set("rightharpoonup",""),s.set("rightleftarrows",""),s.set("rightleftharpoons",""),s.set("rightrightarrows",""),s.set("rightsquigarrow",""),s.set("Rrightarrow",""),s.set("Rsh",""),s.set("searrow",""),s.set("swarrow",""),s.set("to",""),s.set("twoheadleftarrow",""),s.set("twoheadrightarrow",""),s.set("Uarr",""),s.set("uArr",""),s.set("uarr",""),s.set("uparrow",""),s.set("Uparrow",""),s.set("updownarrow",""),s.set("Updownarrow",""),s.set("upharpoonleft",""),s.set("upharpoonright",""),s.set("upuparrows",""),s.set("xleftarrow",""),s.set("xrightarrow",""),s.set("xLeftarrow",""),s.set("xRightarrow",""),s.set("xleftrightarrow",""),s.set("xLeftrightarrow",""),s.set("xhookleftarrow",""),s.set("xhookrightarrow",""),s.set("xtwoheadleftarrow",""),s.set("xtwoheadrightarrow",""),s.set("xleftharpoonup",""),s.set("xrightharpoonup",""),s.set("xleftharpoondown",""),s.set("xrightharpoondown",""),s.set("xleftrightharpoons",""),s.set("xrightleftharpoons",""),s.set("xtofrom",""),s.set("xmapsto",""),s.set("xlongequal","="),s.set("bra","  |"),s.set("ket","|  "),s.set("braket","  "),s.set("Bra","  |"),s.set("Ket","|  "),s.set("Braket","  "),s.set("%","%"),s.set("#","#"),s.set("&","&"),s.set("_","_"),s.set("textunderscore","_"),s.set("textendash",""),s.set("textemdash",""),s.set("textasciitilde","~"),s.set("textasciicircum","^"),s.set("textquoteleft",""),s.set("lq",""),s.set("textquoteright",""),s.set("rq",""),s.set("textquotedblleft",""),s.set("textquotedblright",""),s.set("colon",":"),s.set("backprime",""),s.set("prime",""),s.set("textless","<"),s.set("textgreater",">"),s.set("textbar","|"),s.set("textbardbl",""),s.set("textbraceleft","{"),s.set("textbraceright","}"),s.set("textbackslash","\\"),s.set("P",""),s.set("S",""),s.set("sect",""),s.set("copyright",""),s.set("circledR",""),s.set("textregistered",""),s.set("circledS",""),s.set("textcircled",""),s.set("dots",""),s.set("cdots",""),s.set("ddots",""),s.set("ldots",""),s.set("vdots",""),s.set("dotsb",""),s.set("dotsc",""),s.set("dotsi",""),s.set("dotsm",""),s.set("dotso",""),s.set("sdot",""),s.set("mathellipsis",""),s.set("text",""),s.set("Box",""),s.set("square",""),s.set("blacksquare",""),s.set("triangle",""),s.set("triangledown",""),s.set("triangleleft",""),s.set("triangleright",""),s.set("bigtriangledown",""),s.set("bigtriangleup",""),s.set("blacktriangle",""),s.set("blacktriangledown",""),s.set("blacktriangleleft",""),s.set("blacktriangleright",""),s.set("diamond",""),s.set("Diamond",""),s.set("lozenge",""),s.set("blacklozenge",""),s.set("star",""),s.set("bigstar",""),s.set("clubsuit",""),s.set("clubs",""),s.set("diamondsuit",""),s.set("diamonds",""),s.set("spadesuit",""),s.set("maltese",""),s.set("KaTeX","KTX"),s.set("LaTeX","LTX"),s.set("TeX","TX"),s.set("nabla",""),s.set("infty",""),s.set("infin",""),s.set("checkmark",""),s.set("dag",""),s.set("dagger",""),s.set("ddag",""),s.set("ddagger",""),s.set("textdagger",""),s.set("textdaggerdbl",""),s.set("Dagger",""),s.set("angle",""),s.set("measuredangle",""),s.set("sphericalangle",""),s.set("top",""),s.set("bot",""),s.set("$","$"),s.set("textdollar","$"),s.set("pounds",""),s.set("mathsterling",""),s.set("textsterling",""),s.set("yen",""),s.set("surd",""),s.set("degree",""),s.set("textdegree",""),s.set("mho",""),s.set("diagdown",""),s.set("diagup",""),s.set("flat",""),s.set("natural",""),s.set("sharp",""),s.set("heartsuit",""),s.set("hearts",""),s.set("spades",""),s.set("minuso",""),s}buildMathSuggestions(s=`
`,n="	"){const e=Array.from(new Set([...Lt,...hs,...dt,...ts,...rs,...As,...zt,...Nt,...Cs,...ss,...Ht,...Yt,...ct,...as,...us,...Vt,...ls,...Bs,...Zt,...Ds,...os,...Ut])).map(g=>{const h=this.katexFuncName2Info.get(g);return{label:{label:`\\${g}`,description:h==null?void 0:h.description},detail:g,kind:(h==null?void 0:h.kind)??this._monaco.languages.CompletionItemKind.Field,documentation:h==null?void 0:h.documentation,insertText:g,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.None,range:void 0}}),a=Array.from(new Set([...Mt,...Kt,...Pt,...Gt,...gs,...fs,...ft,...ps,...Qt,...is,...Jt,...$t,...xs,...Wt])).map(g=>{const h=this.katexFuncName2Info.get(g);return{label:{label:`\\${g}{...}`,description:h==null?void 0:h.description},detail:g,kind:(h==null?void 0:h.kind)??this._monaco.languages.CompletionItemKind.Function,documentation:h==null?void 0:h.documentation,insertText:`${g}{$1}`,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0}}),i=Array.from(new Set([...jt,...Rt,...es,...ms,...ns,...Xt])).map(g=>{const h=this.katexFuncName2Info.get(g);return{label:{label:`\\${g}{...}{...}`,description:h==null?void 0:h.description},detail:g,kind:(h==null?void 0:h.kind)??this._monaco.languages.CompletionItemKind.Class,documentation:h==null?void 0:h.documentation,insertText:`${g}{$1}{$2}`,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0}}),x=Array.from(new Set([...Tt,...ft])).map(g=>{const h=this.katexFuncName2Info.get(g);return{label:{label:`\\${g}[...]{...}`,description:h==null?void 0:h.description},detail:g,kind:(h==null?void 0:h.kind)??this._monaco.languages.CompletionItemKind.Class,documentation:h==null?void 0:h.documentation,insertText:`${g}[$1]{$2}`,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0}}),p={label:{label:"\\begin{...} ... \\end{...}",description:"Environments"},detail:"begin",kind:this._monaco.languages.CompletionItemKind.Snippet,documentation:this.makeDocumentation(),insertText:[`begin{\${1|${Fs.join(",")}|}}`,`${n}$2`,"\\end{$1}"].join(s),insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0},m={label:{label:"\\begin{array}{...} ... \\end{array}",description:"Array & Table"},detail:"begin",kind:this._monaco.languages.CompletionItemKind.Snippet,documentation:this.makeDocumentation("{array}"),insertText:["begin{array}{$1}",`${n}$2`,"\\end{array}"].join(s),insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0},l={label:{label:"\\begin{matrix*}[...] ... \\end{matrix*}",description:"Matrix"},detail:"begin",kind:this._monaco.languages.CompletionItemKind.Snippet,documentation:this.makeDocumentation("{matrix*}"),insertText:[`begin{\${1|${["matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"].join(",")}|}}[\${2|l,c,r|}]`,`${n}$3`,"\\end{$1}"].join(s),insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0},u=[],C=[...e,...a,...i,...x,p,m,l,...u];for(const g of C){const h=typeof g.label=="string"?g.label:g.label.label;g.sortText=h.replace(/[a-zA-Z]/g,D=>/[a-z]/.test(D)?`0${D}`:`1${D.toLowerCase()}`);const _=g.detail,w=this.katexFuncName2detail.get(_);if(w){const D=w.padStart(30-h.length+w.length," ");typeof g.label=="string"?g.label={label:h,detail:D}:g.label.detail=D}}return C}}const j=class j{constructor(s,n,e){I(this,"_langs");I(this,"_set_id",new Set);I(this,"_map_alias_id",new Map);I(this,"_map_extension_id",new Map);I(this,"_map_mimetype_id",new Map);I(this,"_map_id_extension",new Map);I(this,"_map_id_mimetype",new Map);I(this,"siyuanHoverProvider",{provideHover:(s,n,e)=>{const a=s.getLineContent(n.lineNumber),x=j.getSiyuanTokens(a).find(m=>m.start<=n.column&&n.column<=m.end),p={contents:[]};return x?new Promise((m,l)=>{const u=setTimeout(()=>{this._dispatch("hover",{id:x.id}),m(p)},1e3);e.onCancellationRequested(C=>{clearTimeout(u),m(p)})}):p}});I(this,"siyuanLinkProvider",{provideLinks:(s,n)=>{const e=[],a=s.getLinesContent(),i=a.length;for(let x=0;x<i;++x){const p=j.getSiyuanTokens(a[x]);for(const m of p){const l={range:{startLineNumber:x+1,startColumn:m.start,endLineNumber:x+1,endColumn:m.end},id:m.id,type:m.type,token:m.token};switch(m.type){case 0:{l.tooltip=this.pluign.i18n.editor.tooltip.siyuanBlockHyperlink.label;break}case 1:{l.tooltip=this.pluign.i18n.editor.tooltip.siyuanBlockReference.label;break}case 2:{l.tooltip=this.pluign.i18n.editor.tooltip.siyuanBlockID.label;break}}l.tooltip=`${l.tooltip}  [${l.id}]`,e.push(l)}}return{links:e}},resolveLink:(s,n)=>{switch(s.type){case 0:{s.url=s.token;break}default:{s.url=`siyuan://blocks/${s.id}`;break}}const e=new URL(s.url);return this._dispatch("open",{id:s.id,focus:parseInt(e.searchParams.get("focus"))}),s.url=this._monaco.Uri.parse(s.url),s}});this.pluign=s,this._monaco=n,this._dispatch=e,this._langs=this._monaco.languages.getLanguages(),this._langs.forEach(a=>{const i=this.wash(a.id);this._set_id.add(i),this._monaco.languages.registerLinkProvider(i,this.siyuanLinkProvider),this._monaco.languages.registerHoverProvider(i,this.siyuanHoverProvider),a.aliases&&a.aliases.forEach(x=>{this._map_alias_id.set(this.wash(x),i)}),a.extensions&&(a.extensions.forEach(x=>{this._map_extension_id.set(this.wash(x),i)}),a.extensions.length>0&&this._map_id_extension.set(i,this.wash(a.extensions.at(0)))),a.mimetypes&&(a.mimetypes.forEach(x=>{this._map_mimetype_id.set(this.wash(x),i)}),a.mimetypes.length>0&&this._map_id_mimetype.set(i,this.wash(a.mimetypes.at(0))))}),this._map_extension_id.set(".sy","json"),this._map_extension_id.set(".ipynb","json"),this._map_extension_id.set(".drawio","xml"),this._monaco.languages.registerDocumentFormattingEditProvider("markdown",new A0(this.pluign,this._monaco)),this._monaco.languages.registerCompletionItemProvider("markdown",new At(this.pluign,this._monaco))}static getSiyuanTokens(s){const n=[],e=s.matchAll(j.REGEXP.siyuan);for(const a of e){const i=a.at(0),x=a.index+1,p=x+i.length,{type:m,id:l}=(()=>{switch(!0){case a.at(1)!==void 0:return{type:0,id:i.match(j.REGEXP.id).at(0)};case a.at(2)!==void 0:return{type:1,id:i.match(j.REGEXP.id).at(0)};case a.at(3)!==void 0:return{type:2,id:i}}})();n.push({token:i,type:m,id:l,start:x,end:p})}return n}wash(s){return s.trim().toLowerCase()}getExtension(s){return s=this.wash(s),this._map_id_extension.get(s)??s}getMimeType(s){return s=this.wash(s),this._map_id_mimetype.get(s)??s}map(s){switch(s=this.wash(s),!0){case this._set_id.has(s):return s;case this._map_alias_id.has(s):return this._map_alias_id.get(s);case this._map_extension_id.has(s):return this._map_extension_id.get(s);case this._map_mimetype_id.has(s):return this._map_mimetype_id.get(s);default:return s}}};I(j,"REGEXP",{siyuan:/(siyuan:\/\/\S*\d{14}-[0-9a-z]{7}\S*)|(\(\(\d{14}-[0-9a-z]{7} ['"][^'"]*['"]\)\))|(\d{14}-[0-9a-z]{7})/g,id:/\d{14}-[0-9a-z]{7}/g});let Dt=j;function F0(r){let s;return{c(){s=Zs("div"),$s(s,"class","svelte-1nw0bsj"),nt(s,"fn__flex-1",r[0]),nt(s,"editor",!r[0])},m(n,e){Js(n,s,e),r[18](s)},p(n,e){e[0]&1&&nt(s,"fn__flex-1",n[0]),e[0]&1&&nt(s,"editor",!n[0])},i:J,o:J,d(n){n&&vs(s),r[18](null)}}}function b0(r,s,n){let{plugin:e}=s,{embed:a=T.embed}=s,{path:i=T.path}=s,{diff:x=T.diff}=s,{locale:p=T.locale}=s,{savable:m=T.savable}=s,{changable:l=T.changable}=s,{original:u=T.original}=s,{modified:C=T.modified}=s,{options:g=T.options}=s,{originalOptions:h=T.originalOptions}=s,{modifiedOptions:_=T.modifiedOptions}=s,{diffOptions:w=T.diffOptions}=s,D;var B,A,b,y,O=!1;const k=e.i18n,R=ds(),c=(()=>{var f;return S=>{S?f||(f=A==null?void 0:A.addAction({id:"18730D32-5451-4102-B299-BE281BA929B9",label:k.editor.action.save.label,keybindings:[B.KeyMod.CtrlCmd|B.KeyCode.KeyS],contextMenuGroupId:"3_file",contextMenuOrder:1,run:()=>{R("save",{value:A.getValue()})}})):f&&(f.dispose(),f=void 0)}})();function d(f){O&&f&&(G(f),tt(f))}function G(f){O&&f&&x&&(b==null||b.getOriginalEditor().updateOptions(f))}function tt(f){O&&f&&(x?b==null||b.getModifiedEditor().updateOptions(f):A==null||A.updateOptions(f))}function st(f){O&&x&&(b==null||b.updateOptions(f))}function t(f){O&&(o(f),v(f))}function o(f){O&&b&&(B==null||B.editor.setModelLanguage(b.getOriginalEditor().getModel(),f))}function v(f){O&&(x?b&&(B==null||B.editor.setModelLanguage(b.getModifiedEditor().getModel(),f)):A&&(B==null||B.editor.setModelLanguage(A.getModel(),f)))}const F=(()=>{switch(!0){case!1:return"node_modules/monaco-editor/min/vs";case!0:default:if(a)switch(!0){case at:return globalThis.require("path").resolve(globalThis.siyuan.config.system.workspaceDir,`./data/plugins/${e.name}/libs/monaco-editor/min/vs`);default:return new URL(`${globalThis.document.baseURI}plugins/${e.name}/libs/monaco-editor/min/vs`).pathname}else switch(!0){case at:return globalThis.require("path").resolve(i,`./data/plugins/${e.name}/libs/monaco-editor/min/vs`);case ot:default:return"./../libs/monaco-editor/min/vs"}}})();It.config({paths:{vs:F},"vs/nls":{availableLanguages:{"*":B0(p)}}});const E=It.init();cs(()=>{E.then(f=>{B=f,n(16,y=new Dt(e,B,R)),x?(n(15,b=B.editor.createDiffEditor(D,g)),b.setModel({original:B.editor.createModel(u.value,y.map((u==null?void 0:u.language)??"")),modified:B.editor.createModel(C.value,y.map((C==null?void 0:C.language)??""))}),n(14,A=b.getModifiedEditor())):C?n(14,A=B.editor.create(D,m0(g,C,{language:y.map(C.language)}))):n(14,A=B.editor.create(D,g)),A.onDidChangeModelContent(S=>{l&&R("changed",{value:A.getValue(),event:S})}),A.addAction({id:"F9E62A24-619E-49EA-A870-B31E6F9D284F",label:k.editor.action.toggleWordWrap.label,keybindings:[B.KeyMod.Alt|B.KeyCode.KeyZ],contextMenuGroupId:"2_view",contextMenuOrder:1,run:()=>{const S=A.getOption(128)==="off"?"on":"off";d({wordWrap:S})}}),c(m),A.addAction({id:"D68588DD-8D0C-4435-8DC2-145B0F464FF8",label:k.editor.action.saveAs.label,keybindings:[B.KeyMod.CtrlCmd|B.KeyMod.Shift|B.KeyCode.KeyS],contextMenuGroupId:"3_file",contextMenuOrder:2,run:()=>{C0({data:A.getValue(),filetype:y.getMimeType(A.getModel().getLanguageId())})}}),B.languages.getLanguages().forEach(S=>{A.addAction({id:`set-model-language-${S.id}`,label:`${k.editor.action.setModelLanguage.label}: ${S.id}`,run:()=>{t(S.id)}})}),n(17,O=!0)}).catch(f=>{n(17,O=!1),e.logger.error(f)})});function q(f){Ct[f?"unshift":"push"](()=>{D=f,n(1,D)})}return r.$$set=f=>{"plugin"in f&&n(3,e=f.plugin),"embed"in f&&n(0,a=f.embed),"path"in f&&n(4,i=f.path),"diff"in f&&n(5,x=f.diff),"locale"in f&&n(6,p=f.locale),"savable"in f&&n(7,m=f.savable),"changable"in f&&n(2,l=f.changable),"original"in f&&n(8,u=f.original),"modified"in f&&n(9,C=f.modified),"options"in f&&n(10,g=f.options),"originalOptions"in f&&n(11,h=f.originalOptions),"modifiedOptions"in f&&n(12,_=f.modifiedOptions),"diffOptions"in f&&n(13,w=f.diffOptions)},r.$$.update=()=>{if(r.$$.dirty[0]&197376&&O&&(u&&o(y.map((u==null?void 0:u.language)??"")),C&&v(y.map((C==null?void 0:C.language)??""))),r.$$.dirty[0]&181028){const f=l;O&&(n(2,l=!1),x?(u&&b.getOriginalEditor().setValue(u.value),C&&b.getModifiedEditor().setValue(C.value)):C&&A.setValue(C.value),n(2,l=f))}r.$$.dirty[0]&16512&&A&&c(m),r.$$.dirty[0]&1024&&d(g),r.$$.dirty[0]&2048&&G(h),r.$$.dirty[0]&4096&&tt(_),r.$$.dirty[0]&8192&&st(w)},[a,D,l,e,i,x,p,m,u,C,g,h,_,w,A,b,y,O,q]}class E0 extends gn{constructor(s){super(),hn(this,s,b0,F0,Ws,{plugin:3,embed:0,path:4,diff:5,locale:6,savable:7,changable:2,original:8,modified:9,options:10,originalOptions:11,modifiedOptions:12,diffOptions:13},null,[-1,-1])}}const mt={INIT_CHANNEL_NAME:"monaco-editor-init",MESSAGE_EVENT_NAME:"message",ID_PREFIX_MATERIAL:"#icon-monaco-editor-material",ID_PREFIX_MATERIAL_LIGHT:"#icon-monaco-editor-material-light"};class w0{constructor(s=()=>{}){I(this,"port");I(this,"_listeners",new Map);I(this,"initEventListener",(s,n)=>{s instanceof MessageEvent&&(n=s.data),globalThis.document.documentElement.style.setProperty("--vscode-editor-background",n?"#1f1f1f":"#ffffff"),this.port=s.ports[0],this.port.start(),this.oninited()});switch(this.oninited=s,!0){case at:{const{ipcRenderer:n}=globalThis.require("electron");n.once(mt.INIT_CHANNEL_NAME,this.initEventListener);break}case ot:case bs:default:globalThis.addEventListener("message",this.initEventListener,{once:!0});break}}ready(s={status:!0}){const n={channel:"editor-ready",data:s};this.port.postMessage(n)}changed(s){const n={channel:"editor-changed",data:s};this.port.postMessage(n)}save(s){const n={channel:"editor-save",data:s};this.port.postMessage(n)}hover(s){const n={channel:"editor-hover-siyuan",data:s};this.port.postMessage(n)}open(s){const n={channel:"editor-open-siyuan",data:s};this.port.postMessage(n)}addEventListener(s,n,e){if(this._listeners.has(n))return!1;{const a=i=>{var x;((x=i==null?void 0:i.data)==null?void 0:x.channel)===s&&(e!=null&&e.once&&this.removeEventListener(s,n),n(i))};return this._listeners.set(n,a),this.port.addEventListener(mt.MESSAGE_EVENT_NAME,a),!0}}removeEventListener(s,n){return this._listeners.has(n)?(this.port.removeEventListener(mt.MESSAGE_EVENT_NAME,this._listeners.get(n)),this._listeners.delete(n),!0):!1}}var M;const P=new w0(()=>{P.addEventListener("editor-init",r=>{const{data:s}=r.data,n=new Us(`${s.name}-${(()=>{switch(!0){case at:return"window";case ot:return"iframe";case bs:return"popup";default:return"unknow"}})()}`);M&&M.$destroy(),M=new E0({target:globalThis.document.body,props:{plugin:{name:s.name,i18n:s.i18n,logger:n},path:s.path,diff:s.diff,locale:s.locale,savable:s.savable,changable:s.changable,original:s.original,modified:s.modified,options:s.options}}),M.$on("changed",e=>P.changed(e.detail)),M.$on("save",e=>P.save(e.detail)),M.$on("hover",e=>P.hover(e.detail)),M.$on("open",e=>P.open(e.detail))}),P.addEventListener("editor-set",r=>{const{data:s}=r.data;M&&M.$set(s)}),P.ready()});
