var h0=Object.defineProperty;var p0=(r,s,n)=>s in r?h0(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var O=(r,s,n)=>(p0(r,typeof s!="symbol"?s+"":s,n),n);import{c as V,i as f0,g as D0,S as A0,a as F0,s as b0,e as E0,b as v0,t as Z,d as w0,n as et,f as o0,h as q0,F as nt,j as a0,m as y0,o as _0,k as I0,l as O0,B as k0,p as x0,q as S0,L as K0,r as L0}from"../chunks/slave-ad6c6ca9.js";function T0(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function it(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);s&&(a=a.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),n.push.apply(n,a)}return n}function lt(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?it(Object(n),!0).forEach(function(a){T0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function M0(r,s){if(r==null)return{};var n={},a=Object.keys(r),x,e;for(e=0;e<a.length;e++)x=a[e],!(s.indexOf(x)>=0)&&(n[x]=r[x]);return n}function j0(r,s){if(r==null)return{};var n=M0(r,s),a,x;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);for(x=0;x<e.length;x++)a=e[x],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function R0(r,s){return P0(r)||N0(r,s)||V0(r,s)||G0()}function P0(r){if(Array.isArray(r))return r}function N0(r,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,x=!1,e=void 0;try{for(var i=r[Symbol.iterator](),D;!(a=(D=i.next()).done)&&(n.push(D.value),!(s&&n.length===s));a=!0);}catch(m){x=!0,e=m}finally{try{!a&&i.return!=null&&i.return()}finally{if(x)throw e}}return n}}function V0(r,s){if(r){if(typeof r=="string")return ut(r,s);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(r,s)}}function ut(r,s){(s==null||s>r.length)&&(s=r.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=r[n];return a}function G0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function Ct(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);s&&(a=a.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),n.push.apply(n,a)}return n}function gt(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ct(Object(n),!0).forEach(function(a){U0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function z0(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return function(a){return s.reduceRight(function(x,e){return e(x)},a)}}function G(r){return function s(){for(var n=this,a=arguments.length,x=new Array(a),e=0;e<a;e++)x[e]=arguments[e];return x.length>=r.length?r.apply(this,x):function(){for(var i=arguments.length,D=new Array(i),m=0;m<i;m++)D[m]=arguments[m];return s.apply(n,[].concat(x,D))}}}function $(r){return{}.toString.call(r).includes("Object")}function H0(r){return!Object.keys(r).length}function U(r){return typeof r=="function"}function X0(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function W0(r,s){return $(s)||j("changeType"),Object.keys(s).some(function(n){return!X0(r,n)})&&j("changeField"),s}function J0(r){U(r)||j("selectorType")}function Z0(r){U(r)||$(r)||j("handlerType"),$(r)&&Object.values(r).some(function(s){return!U(s)})&&j("handlersType")}function Q0(r){r||j("initialIsRequired"),$(r)||j("initialType"),H0(r)&&j("initialContent")}function Y0(r,s){throw new Error(r[s]||r.default)}var $0={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},j=G(Y0)($0),Q={changes:W0,selector:J0,handler:Z0,initial:Q0};function c0(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Q.initial(r),Q.handler(s);var n={current:r},a=G(ss)(n,s),x=G(ts)(n),e=G(Q.changes)(r),i=G(d0)(n);function D(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(l){return l};return Q.selector(g),g(n.current)}function m(g){z0(a,x,e,i)(g)}return[D,m]}function d0(r,s){return U(s)?s(r.current):s}function ts(r,s){return r.current=gt(gt({},r.current),s),s}function ss(r,s,n){return U(s)?s(r.current):Object.keys(n).forEach(function(a){var x;return(x=s[a])===null||x===void 0?void 0:x.call(s,r.current[a])}),n}var ns={create:c0},rs={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function as(r){return function s(){for(var n=this,a=arguments.length,x=new Array(a),e=0;e<a;e++)x[e]=arguments[e];return x.length>=r.length?r.apply(this,x):function(){for(var i=arguments.length,D=new Array(i),m=0;m<i;m++)D[m]=arguments[m];return s.apply(n,[].concat(x,D))}}}function xs(r){return{}.toString.call(r).includes("Object")}function es(r){return r||Bt("configIsRequired"),xs(r)||Bt("configType"),r.urls?(is(),{paths:{vs:r.urls.monacoBase}}):r}function is(){console.warn(e0.deprecation)}function ls(r,s){throw new Error(r[s]||r.default)}var e0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Bt=as(ls)(e0),us={config:es},Cs=function(){for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return function(x){return n.reduceRight(function(e,i){return i(e)},x)}};function i0(r,s){return Object.keys(s).forEach(function(n){s[n]instanceof Object&&r[n]&&Object.assign(s[n],i0(r[n],s[n]))}),lt(lt({},r),s)}var gs={type:"cancelation",msg:"operation is manually canceled"};function d(r){var s=!1,n=new Promise(function(a,x){r.then(function(e){return s?x(gs):a(e)}),r.catch(x)});return n.cancel=function(){return s=!0},n}var Bs=ns.create({config:rs,isInitialized:!1,resolve:null,reject:null,monaco:null}),l0=R0(Bs,2),z=l0[0],c=l0[1];function ms(r){var s=us.config(r),n=s.monaco,a=j0(s,["monaco"]);c(function(x){return{config:i0(x.config,a),monaco:n}})}function hs(){var r=z(function(s){var n=s.monaco,a=s.isInitialized,x=s.resolve;return{monaco:n,isInitialized:a,resolve:x}});if(!r.isInitialized){if(c({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),d(tt);if(window.monaco&&window.monaco.editor)return u0(window.monaco),r.resolve(window.monaco),d(tt);Cs(ps,Ds)(As)}return d(tt)}function ps(r){return document.body.appendChild(r)}function fs(r){var s=document.createElement("script");return r&&(s.src=r),s}function Ds(r){var s=z(function(a){var x=a.config,e=a.reject;return{config:x,reject:e}}),n=fs("".concat(s.config.paths.vs,"/loader.js"));return n.onload=function(){return r()},n.onerror=s.reject,n}function As(){var r=z(function(n){var a=n.config,x=n.resolve,e=n.reject;return{config:a,resolve:x,reject:e}}),s=window.require;s.config(r.config),s(["vs/editor/editor.main"],function(n){u0(n),r.resolve(n)},function(n){r.reject(n)})}function u0(r){z().monaco||c({monaco:r})}function Fs(){return z(function(r){var s=r.monaco;return s})}var tt=new Promise(function(r,s){return c({resolve:r,reject:s})}),mt={config:ms,init:hs,__getMonacoInstance:Fs},C0={exports:{}};(function(r,s){(function(n,a){a()})(V,function(){function n(g,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function a(g,l,h){var C=new XMLHttpRequest;C.open("GET",g),C.responseType="blob",C.onload=function(){m(C.response,l,h)},C.onerror=function(){console.error("could not download file")},C.send()}function x(g){var l=new XMLHttpRequest;l.open("HEAD",g,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function e(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(l)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof V=="object"&&V.global===V?V:void 0,D=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!D?function(g,l,h){var C=i.URL||i.webkitURL,u=document.createElement("a");l=l||g.name||"download",u.download=l,u.rel="noopener",typeof g=="string"?(u.href=g,u.origin===location.origin?e(u):x(u.href)?a(g,l,h):e(u,u.target="_blank")):(u.href=C.createObjectURL(g),setTimeout(function(){C.revokeObjectURL(u.href)},4e4),setTimeout(function(){e(u)},0))}:"msSaveOrOpenBlob"in navigator?function(g,l,h){if(l=l||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,h),l);else if(x(g))a(g,l,h);else{var C=document.createElement("a");C.href=g,C.target="_blank",setTimeout(function(){e(C)})}}:function(g,l,h,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof g=="string")return a(g,l,h);var u=g.type==="application/octet-stream",I=/constructor/i.test(i.HTMLElement)||i.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||u&&I||D)&&typeof FileReader<"u"){var f=new FileReader;f.onloadend=function(){var E=f.result;E=w?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=E:location=E,C=null},f.readAsDataURL(g)}else{var p=i.URL||i.webkitURL,F=p.createObjectURL(g);C?C.location=F:location.href=F,C=null,setTimeout(function(){p.revokeObjectURL(F)},4e4)}});i.saveAs=m.saveAs=m,r.exports=m})})(C0);var Y=C0.exports;function bs(r){if(r.filename){const s=new File([r.data],r.filename,{type:r.filetype,lastModified:r.lastModified});return Y.saveAs(s,s.name),s}else switch(!0){case r.data instanceof File:{const s=r.data;return Y.saveAs(s,s.name),s}case r.data instanceof Blob:{const s=r.data;return Y.saveAs(s),s}default:{const s=new Blob([r.data],{type:r.filetype});return Y.saveAs(s),s}}}const K={embed:!1,path:"",diff:!1,get locale(){return globalThis.navigator.language},savable:!1,changable:!1,original:{value:""},modified:{value:""},options:{get theme(){return f0()?"vs":"vs-dark"}},originalOptions:{},modifiedOptions:{},diffOptions:{}};var g0={exports:{}};(function(r){function s(){var n=0,a=1,x=2,e=3,i=4,D=5,m=6,g=7,l=8,h=9,C=10,u=11,I=12,w=13,f=14,p=15,F=16,E=17,q=0,_=1,k=2,R=3,H=4;function X(t,A){return 55296<=t.charCodeAt(A)&&t.charCodeAt(A)<=56319&&56320<=t.charCodeAt(A+1)&&t.charCodeAt(A+1)<=57343}function N(t,A){A===void 0&&(A=0);var o=t.charCodeAt(A);if(55296<=o&&o<=56319&&A<t.length-1){var b=o,v=t.charCodeAt(A+1);return 56320<=v&&v<=57343?(b-55296)*1024+(v-56320)+65536:b}if(56320<=o&&o<=57343&&A>=1){var b=t.charCodeAt(A-1),v=o;return 55296<=b&&b<=56319?(b-55296)*1024+(v-56320)+65536:v}return o}function W(t,A,o){var b=[t].concat(A).concat([o]),v=b[b.length-2],y=o,B=b.lastIndexOf(f);if(B>1&&b.slice(1,B).every(function(L){return L==e})&&[e,w,E].indexOf(t)==-1)return k;var S=b.lastIndexOf(i);if(S>0&&b.slice(1,S).every(function(L){return L==i})&&[I,i].indexOf(v)==-1)return b.filter(function(L){return L==i}).length%2==1?R:H;if(v==n&&y==a)return q;if(v==x||v==n||v==a)return y==f&&A.every(function(L){return L==e})?k:_;if(y==x||y==n||y==a)return _;if(v==m&&(y==m||y==g||y==h||y==C))return q;if((v==h||v==g)&&(y==g||y==l))return q;if((v==C||v==l)&&y==l)return q;if(y==e||y==p)return q;if(y==D)return q;if(v==I)return q;var xt=b.indexOf(e)!=-1?b.lastIndexOf(e)-1:b.length-2;return[w,E].indexOf(b[xt])!=-1&&b.slice(xt+1,-1).every(function(L){return L==e})&&y==f||v==p&&[F,E].indexOf(y)!=-1?q:A.indexOf(i)!=-1?k:v==i&&y==i?q:_}this.nextBreak=function(t,A){if(A===void 0&&(A=0),A<0)return 0;if(A>=t.length-1)return t.length;for(var o=J(N(t,A)),b=[],v=A+1;v<t.length;v++)if(!X(t,v-1)){var y=J(N(t,v));if(W(o,b,y))return v;b.push(y)}return t.length},this.splitGraphemes=function(t){for(var A=[],o=0,b;(b=this.nextBreak(t,o))<t.length;)A.push(t.slice(o,b)),o=b;return o<t.length&&A.push(t.slice(o)),A},this.iterateGraphemes=function(t){var A=0,o={next:(function(){var b,v;return(v=this.nextBreak(t,A))<t.length?(b=t.slice(A,v),A=v,{value:b,done:!1}):A<t.length?(b=t.slice(A),A=t.length,{value:b,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(o[Symbol.iterator]=function(){return o}),o},this.countGraphemes=function(t){for(var A=0,o=0,b;(b=this.nextBreak(t,o))<t.length;)o=b,A++;return o<t.length&&A++,A};function J(t){return 1536<=t&&t<=1541||t==1757||t==1807||t==2274||t==3406||t==69821||70082<=t&&t<=70083||t==72250||72326<=t&&t<=72329||t==73030?I:t==13?n:t==10?a:0<=t&&t<=9||11<=t&&t<=12||14<=t&&t<=31||127<=t&&t<=159||t==173||t==1564||t==6158||t==8203||8206<=t&&t<=8207||t==8232||t==8233||8234<=t&&t<=8238||8288<=t&&t<=8292||t==8293||8294<=t&&t<=8303||55296<=t&&t<=57343||t==65279||65520<=t&&t<=65528||65529<=t&&t<=65531||113824<=t&&t<=113827||119155<=t&&t<=119162||t==917504||t==917505||917506<=t&&t<=917535||917632<=t&&t<=917759||918e3<=t&&t<=921599?x:768<=t&&t<=879||1155<=t&&t<=1159||1160<=t&&t<=1161||1425<=t&&t<=1469||t==1471||1473<=t&&t<=1474||1476<=t&&t<=1477||t==1479||1552<=t&&t<=1562||1611<=t&&t<=1631||t==1648||1750<=t&&t<=1756||1759<=t&&t<=1764||1767<=t&&t<=1768||1770<=t&&t<=1773||t==1809||1840<=t&&t<=1866||1958<=t&&t<=1968||2027<=t&&t<=2035||2070<=t&&t<=2073||2075<=t&&t<=2083||2085<=t&&t<=2087||2089<=t&&t<=2093||2137<=t&&t<=2139||2260<=t&&t<=2273||2275<=t&&t<=2306||t==2362||t==2364||2369<=t&&t<=2376||t==2381||2385<=t&&t<=2391||2402<=t&&t<=2403||t==2433||t==2492||t==2494||2497<=t&&t<=2500||t==2509||t==2519||2530<=t&&t<=2531||2561<=t&&t<=2562||t==2620||2625<=t&&t<=2626||2631<=t&&t<=2632||2635<=t&&t<=2637||t==2641||2672<=t&&t<=2673||t==2677||2689<=t&&t<=2690||t==2748||2753<=t&&t<=2757||2759<=t&&t<=2760||t==2765||2786<=t&&t<=2787||2810<=t&&t<=2815||t==2817||t==2876||t==2878||t==2879||2881<=t&&t<=2884||t==2893||t==2902||t==2903||2914<=t&&t<=2915||t==2946||t==3006||t==3008||t==3021||t==3031||t==3072||3134<=t&&t<=3136||3142<=t&&t<=3144||3146<=t&&t<=3149||3157<=t&&t<=3158||3170<=t&&t<=3171||t==3201||t==3260||t==3263||t==3266||t==3270||3276<=t&&t<=3277||3285<=t&&t<=3286||3298<=t&&t<=3299||3328<=t&&t<=3329||3387<=t&&t<=3388||t==3390||3393<=t&&t<=3396||t==3405||t==3415||3426<=t&&t<=3427||t==3530||t==3535||3538<=t&&t<=3540||t==3542||t==3551||t==3633||3636<=t&&t<=3642||3655<=t&&t<=3662||t==3761||3764<=t&&t<=3769||3771<=t&&t<=3772||3784<=t&&t<=3789||3864<=t&&t<=3865||t==3893||t==3895||t==3897||3953<=t&&t<=3966||3968<=t&&t<=3972||3974<=t&&t<=3975||3981<=t&&t<=3991||3993<=t&&t<=4028||t==4038||4141<=t&&t<=4144||4146<=t&&t<=4151||4153<=t&&t<=4154||4157<=t&&t<=4158||4184<=t&&t<=4185||4190<=t&&t<=4192||4209<=t&&t<=4212||t==4226||4229<=t&&t<=4230||t==4237||t==4253||4957<=t&&t<=4959||5906<=t&&t<=5908||5938<=t&&t<=5940||5970<=t&&t<=5971||6002<=t&&t<=6003||6068<=t&&t<=6069||6071<=t&&t<=6077||t==6086||6089<=t&&t<=6099||t==6109||6155<=t&&t<=6157||6277<=t&&t<=6278||t==6313||6432<=t&&t<=6434||6439<=t&&t<=6440||t==6450||6457<=t&&t<=6459||6679<=t&&t<=6680||t==6683||t==6742||6744<=t&&t<=6750||t==6752||t==6754||6757<=t&&t<=6764||6771<=t&&t<=6780||t==6783||6832<=t&&t<=6845||t==6846||6912<=t&&t<=6915||t==6964||6966<=t&&t<=6970||t==6972||t==6978||7019<=t&&t<=7027||7040<=t&&t<=7041||7074<=t&&t<=7077||7080<=t&&t<=7081||7083<=t&&t<=7085||t==7142||7144<=t&&t<=7145||t==7149||7151<=t&&t<=7153||7212<=t&&t<=7219||7222<=t&&t<=7223||7376<=t&&t<=7378||7380<=t&&t<=7392||7394<=t&&t<=7400||t==7405||t==7412||7416<=t&&t<=7417||7616<=t&&t<=7673||7675<=t&&t<=7679||t==8204||8400<=t&&t<=8412||8413<=t&&t<=8416||t==8417||8418<=t&&t<=8420||8421<=t&&t<=8432||11503<=t&&t<=11505||t==11647||11744<=t&&t<=11775||12330<=t&&t<=12333||12334<=t&&t<=12335||12441<=t&&t<=12442||t==42607||42608<=t&&t<=42610||42612<=t&&t<=42621||42654<=t&&t<=42655||42736<=t&&t<=42737||t==43010||t==43014||t==43019||43045<=t&&t<=43046||43204<=t&&t<=43205||43232<=t&&t<=43249||43302<=t&&t<=43309||43335<=t&&t<=43345||43392<=t&&t<=43394||t==43443||43446<=t&&t<=43449||t==43452||t==43493||43561<=t&&t<=43566||43569<=t&&t<=43570||43573<=t&&t<=43574||t==43587||t==43596||t==43644||t==43696||43698<=t&&t<=43700||43703<=t&&t<=43704||43710<=t&&t<=43711||t==43713||43756<=t&&t<=43757||t==43766||t==44005||t==44008||t==44013||t==64286||65024<=t&&t<=65039||65056<=t&&t<=65071||65438<=t&&t<=65439||t==66045||t==66272||66422<=t&&t<=66426||68097<=t&&t<=68099||68101<=t&&t<=68102||68108<=t&&t<=68111||68152<=t&&t<=68154||t==68159||68325<=t&&t<=68326||t==69633||69688<=t&&t<=69702||69759<=t&&t<=69761||69811<=t&&t<=69814||69817<=t&&t<=69818||69888<=t&&t<=69890||69927<=t&&t<=69931||69933<=t&&t<=69940||t==70003||70016<=t&&t<=70017||70070<=t&&t<=70078||70090<=t&&t<=70092||70191<=t&&t<=70193||t==70196||70198<=t&&t<=70199||t==70206||t==70367||70371<=t&&t<=70378||70400<=t&&t<=70401||t==70460||t==70462||t==70464||t==70487||70502<=t&&t<=70508||70512<=t&&t<=70516||70712<=t&&t<=70719||70722<=t&&t<=70724||t==70726||t==70832||70835<=t&&t<=70840||t==70842||t==70845||70847<=t&&t<=70848||70850<=t&&t<=70851||t==71087||71090<=t&&t<=71093||71100<=t&&t<=71101||71103<=t&&t<=71104||71132<=t&&t<=71133||71219<=t&&t<=71226||t==71229||71231<=t&&t<=71232||t==71339||t==71341||71344<=t&&t<=71349||t==71351||71453<=t&&t<=71455||71458<=t&&t<=71461||71463<=t&&t<=71467||72193<=t&&t<=72198||72201<=t&&t<=72202||72243<=t&&t<=72248||72251<=t&&t<=72254||t==72263||72273<=t&&t<=72278||72281<=t&&t<=72283||72330<=t&&t<=72342||72344<=t&&t<=72345||72752<=t&&t<=72758||72760<=t&&t<=72765||t==72767||72850<=t&&t<=72871||72874<=t&&t<=72880||72882<=t&&t<=72883||72885<=t&&t<=72886||73009<=t&&t<=73014||t==73018||73020<=t&&t<=73021||73023<=t&&t<=73029||t==73031||92912<=t&&t<=92916||92976<=t&&t<=92982||94095<=t&&t<=94098||113821<=t&&t<=113822||t==119141||119143<=t&&t<=119145||119150<=t&&t<=119154||119163<=t&&t<=119170||119173<=t&&t<=119179||119210<=t&&t<=119213||119362<=t&&t<=119364||121344<=t&&t<=121398||121403<=t&&t<=121452||t==121461||t==121476||121499<=t&&t<=121503||121505<=t&&t<=121519||122880<=t&&t<=122886||122888<=t&&t<=122904||122907<=t&&t<=122913||122915<=t&&t<=122916||122918<=t&&t<=122922||125136<=t&&t<=125142||125252<=t&&t<=125258||917536<=t&&t<=917631||917760<=t&&t<=917999?e:127462<=t&&t<=127487?i:t==2307||t==2363||2366<=t&&t<=2368||2377<=t&&t<=2380||2382<=t&&t<=2383||2434<=t&&t<=2435||2495<=t&&t<=2496||2503<=t&&t<=2504||2507<=t&&t<=2508||t==2563||2622<=t&&t<=2624||t==2691||2750<=t&&t<=2752||t==2761||2763<=t&&t<=2764||2818<=t&&t<=2819||t==2880||2887<=t&&t<=2888||2891<=t&&t<=2892||t==3007||3009<=t&&t<=3010||3014<=t&&t<=3016||3018<=t&&t<=3020||3073<=t&&t<=3075||3137<=t&&t<=3140||3202<=t&&t<=3203||t==3262||3264<=t&&t<=3265||3267<=t&&t<=3268||3271<=t&&t<=3272||3274<=t&&t<=3275||3330<=t&&t<=3331||3391<=t&&t<=3392||3398<=t&&t<=3400||3402<=t&&t<=3404||3458<=t&&t<=3459||3536<=t&&t<=3537||3544<=t&&t<=3550||3570<=t&&t<=3571||t==3635||t==3763||3902<=t&&t<=3903||t==3967||t==4145||4155<=t&&t<=4156||4182<=t&&t<=4183||t==4228||t==6070||6078<=t&&t<=6085||6087<=t&&t<=6088||6435<=t&&t<=6438||6441<=t&&t<=6443||6448<=t&&t<=6449||6451<=t&&t<=6456||6681<=t&&t<=6682||t==6741||t==6743||6765<=t&&t<=6770||t==6916||t==6965||t==6971||6973<=t&&t<=6977||6979<=t&&t<=6980||t==7042||t==7073||7078<=t&&t<=7079||t==7082||t==7143||7146<=t&&t<=7148||t==7150||7154<=t&&t<=7155||7204<=t&&t<=7211||7220<=t&&t<=7221||t==7393||7410<=t&&t<=7411||t==7415||43043<=t&&t<=43044||t==43047||43136<=t&&t<=43137||43188<=t&&t<=43203||43346<=t&&t<=43347||t==43395||43444<=t&&t<=43445||43450<=t&&t<=43451||43453<=t&&t<=43456||43567<=t&&t<=43568||43571<=t&&t<=43572||t==43597||t==43755||43758<=t&&t<=43759||t==43765||44003<=t&&t<=44004||44006<=t&&t<=44007||44009<=t&&t<=44010||t==44012||t==69632||t==69634||t==69762||69808<=t&&t<=69810||69815<=t&&t<=69816||t==69932||t==70018||70067<=t&&t<=70069||70079<=t&&t<=70080||70188<=t&&t<=70190||70194<=t&&t<=70195||t==70197||70368<=t&&t<=70370||70402<=t&&t<=70403||t==70463||70465<=t&&t<=70468||70471<=t&&t<=70472||70475<=t&&t<=70477||70498<=t&&t<=70499||70709<=t&&t<=70711||70720<=t&&t<=70721||t==70725||70833<=t&&t<=70834||t==70841||70843<=t&&t<=70844||t==70846||t==70849||71088<=t&&t<=71089||71096<=t&&t<=71099||t==71102||71216<=t&&t<=71218||71227<=t&&t<=71228||t==71230||t==71340||71342<=t&&t<=71343||t==71350||71456<=t&&t<=71457||t==71462||72199<=t&&t<=72200||t==72249||72279<=t&&t<=72280||t==72343||t==72751||t==72766||t==72873||t==72881||t==72884||94033<=t&&t<=94078||t==119142||t==119149?D:4352<=t&&t<=4447||43360<=t&&t<=43388?m:4448<=t&&t<=4519||55216<=t&&t<=55238?g:4520<=t&&t<=4607||55243<=t&&t<=55291?l:t==44032||t==44060||t==44088||t==44116||t==44144||t==44172||t==44200||t==44228||t==44256||t==44284||t==44312||t==44340||t==44368||t==44396||t==44424||t==44452||t==44480||t==44508||t==44536||t==44564||t==44592||t==44620||t==44648||t==44676||t==44704||t==44732||t==44760||t==44788||t==44816||t==44844||t==44872||t==44900||t==44928||t==44956||t==44984||t==45012||t==45040||t==45068||t==45096||t==45124||t==45152||t==45180||t==45208||t==45236||t==45264||t==45292||t==45320||t==45348||t==45376||t==45404||t==45432||t==45460||t==45488||t==45516||t==45544||t==45572||t==45600||t==45628||t==45656||t==45684||t==45712||t==45740||t==45768||t==45796||t==45824||t==45852||t==45880||t==45908||t==45936||t==45964||t==45992||t==46020||t==46048||t==46076||t==46104||t==46132||t==46160||t==46188||t==46216||t==46244||t==46272||t==46300||t==46328||t==46356||t==46384||t==46412||t==46440||t==46468||t==46496||t==46524||t==46552||t==46580||t==46608||t==46636||t==46664||t==46692||t==46720||t==46748||t==46776||t==46804||t==46832||t==46860||t==46888||t==46916||t==46944||t==46972||t==47e3||t==47028||t==47056||t==47084||t==47112||t==47140||t==47168||t==47196||t==47224||t==47252||t==47280||t==47308||t==47336||t==47364||t==47392||t==47420||t==47448||t==47476||t==47504||t==47532||t==47560||t==47588||t==47616||t==47644||t==47672||t==47700||t==47728||t==47756||t==47784||t==47812||t==47840||t==47868||t==47896||t==47924||t==47952||t==47980||t==48008||t==48036||t==48064||t==48092||t==48120||t==48148||t==48176||t==48204||t==48232||t==48260||t==48288||t==48316||t==48344||t==48372||t==48400||t==48428||t==48456||t==48484||t==48512||t==48540||t==48568||t==48596||t==48624||t==48652||t==48680||t==48708||t==48736||t==48764||t==48792||t==48820||t==48848||t==48876||t==48904||t==48932||t==48960||t==48988||t==49016||t==49044||t==49072||t==49100||t==49128||t==49156||t==49184||t==49212||t==49240||t==49268||t==49296||t==49324||t==49352||t==49380||t==49408||t==49436||t==49464||t==49492||t==49520||t==49548||t==49576||t==49604||t==49632||t==49660||t==49688||t==49716||t==49744||t==49772||t==49800||t==49828||t==49856||t==49884||t==49912||t==49940||t==49968||t==49996||t==50024||t==50052||t==50080||t==50108||t==50136||t==50164||t==50192||t==50220||t==50248||t==50276||t==50304||t==50332||t==50360||t==50388||t==50416||t==50444||t==50472||t==50500||t==50528||t==50556||t==50584||t==50612||t==50640||t==50668||t==50696||t==50724||t==50752||t==50780||t==50808||t==50836||t==50864||t==50892||t==50920||t==50948||t==50976||t==51004||t==51032||t==51060||t==51088||t==51116||t==51144||t==51172||t==51200||t==51228||t==51256||t==51284||t==51312||t==51340||t==51368||t==51396||t==51424||t==51452||t==51480||t==51508||t==51536||t==51564||t==51592||t==51620||t==51648||t==51676||t==51704||t==51732||t==51760||t==51788||t==51816||t==51844||t==51872||t==51900||t==51928||t==51956||t==51984||t==52012||t==52040||t==52068||t==52096||t==52124||t==52152||t==52180||t==52208||t==52236||t==52264||t==52292||t==52320||t==52348||t==52376||t==52404||t==52432||t==52460||t==52488||t==52516||t==52544||t==52572||t==52600||t==52628||t==52656||t==52684||t==52712||t==52740||t==52768||t==52796||t==52824||t==52852||t==52880||t==52908||t==52936||t==52964||t==52992||t==53020||t==53048||t==53076||t==53104||t==53132||t==53160||t==53188||t==53216||t==53244||t==53272||t==53300||t==53328||t==53356||t==53384||t==53412||t==53440||t==53468||t==53496||t==53524||t==53552||t==53580||t==53608||t==53636||t==53664||t==53692||t==53720||t==53748||t==53776||t==53804||t==53832||t==53860||t==53888||t==53916||t==53944||t==53972||t==54e3||t==54028||t==54056||t==54084||t==54112||t==54140||t==54168||t==54196||t==54224||t==54252||t==54280||t==54308||t==54336||t==54364||t==54392||t==54420||t==54448||t==54476||t==54504||t==54532||t==54560||t==54588||t==54616||t==54644||t==54672||t==54700||t==54728||t==54756||t==54784||t==54812||t==54840||t==54868||t==54896||t==54924||t==54952||t==54980||t==55008||t==55036||t==55064||t==55092||t==55120||t==55148||t==55176?h:44033<=t&&t<=44059||44061<=t&&t<=44087||44089<=t&&t<=44115||44117<=t&&t<=44143||44145<=t&&t<=44171||44173<=t&&t<=44199||44201<=t&&t<=44227||44229<=t&&t<=44255||44257<=t&&t<=44283||44285<=t&&t<=44311||44313<=t&&t<=44339||44341<=t&&t<=44367||44369<=t&&t<=44395||44397<=t&&t<=44423||44425<=t&&t<=44451||44453<=t&&t<=44479||44481<=t&&t<=44507||44509<=t&&t<=44535||44537<=t&&t<=44563||44565<=t&&t<=44591||44593<=t&&t<=44619||44621<=t&&t<=44647||44649<=t&&t<=44675||44677<=t&&t<=44703||44705<=t&&t<=44731||44733<=t&&t<=44759||44761<=t&&t<=44787||44789<=t&&t<=44815||44817<=t&&t<=44843||44845<=t&&t<=44871||44873<=t&&t<=44899||44901<=t&&t<=44927||44929<=t&&t<=44955||44957<=t&&t<=44983||44985<=t&&t<=45011||45013<=t&&t<=45039||45041<=t&&t<=45067||45069<=t&&t<=45095||45097<=t&&t<=45123||45125<=t&&t<=45151||45153<=t&&t<=45179||45181<=t&&t<=45207||45209<=t&&t<=45235||45237<=t&&t<=45263||45265<=t&&t<=45291||45293<=t&&t<=45319||45321<=t&&t<=45347||45349<=t&&t<=45375||45377<=t&&t<=45403||45405<=t&&t<=45431||45433<=t&&t<=45459||45461<=t&&t<=45487||45489<=t&&t<=45515||45517<=t&&t<=45543||45545<=t&&t<=45571||45573<=t&&t<=45599||45601<=t&&t<=45627||45629<=t&&t<=45655||45657<=t&&t<=45683||45685<=t&&t<=45711||45713<=t&&t<=45739||45741<=t&&t<=45767||45769<=t&&t<=45795||45797<=t&&t<=45823||45825<=t&&t<=45851||45853<=t&&t<=45879||45881<=t&&t<=45907||45909<=t&&t<=45935||45937<=t&&t<=45963||45965<=t&&t<=45991||45993<=t&&t<=46019||46021<=t&&t<=46047||46049<=t&&t<=46075||46077<=t&&t<=46103||46105<=t&&t<=46131||46133<=t&&t<=46159||46161<=t&&t<=46187||46189<=t&&t<=46215||46217<=t&&t<=46243||46245<=t&&t<=46271||46273<=t&&t<=46299||46301<=t&&t<=46327||46329<=t&&t<=46355||46357<=t&&t<=46383||46385<=t&&t<=46411||46413<=t&&t<=46439||46441<=t&&t<=46467||46469<=t&&t<=46495||46497<=t&&t<=46523||46525<=t&&t<=46551||46553<=t&&t<=46579||46581<=t&&t<=46607||46609<=t&&t<=46635||46637<=t&&t<=46663||46665<=t&&t<=46691||46693<=t&&t<=46719||46721<=t&&t<=46747||46749<=t&&t<=46775||46777<=t&&t<=46803||46805<=t&&t<=46831||46833<=t&&t<=46859||46861<=t&&t<=46887||46889<=t&&t<=46915||46917<=t&&t<=46943||46945<=t&&t<=46971||46973<=t&&t<=46999||47001<=t&&t<=47027||47029<=t&&t<=47055||47057<=t&&t<=47083||47085<=t&&t<=47111||47113<=t&&t<=47139||47141<=t&&t<=47167||47169<=t&&t<=47195||47197<=t&&t<=47223||47225<=t&&t<=47251||47253<=t&&t<=47279||47281<=t&&t<=47307||47309<=t&&t<=47335||47337<=t&&t<=47363||47365<=t&&t<=47391||47393<=t&&t<=47419||47421<=t&&t<=47447||47449<=t&&t<=47475||47477<=t&&t<=47503||47505<=t&&t<=47531||47533<=t&&t<=47559||47561<=t&&t<=47587||47589<=t&&t<=47615||47617<=t&&t<=47643||47645<=t&&t<=47671||47673<=t&&t<=47699||47701<=t&&t<=47727||47729<=t&&t<=47755||47757<=t&&t<=47783||47785<=t&&t<=47811||47813<=t&&t<=47839||47841<=t&&t<=47867||47869<=t&&t<=47895||47897<=t&&t<=47923||47925<=t&&t<=47951||47953<=t&&t<=47979||47981<=t&&t<=48007||48009<=t&&t<=48035||48037<=t&&t<=48063||48065<=t&&t<=48091||48093<=t&&t<=48119||48121<=t&&t<=48147||48149<=t&&t<=48175||48177<=t&&t<=48203||48205<=t&&t<=48231||48233<=t&&t<=48259||48261<=t&&t<=48287||48289<=t&&t<=48315||48317<=t&&t<=48343||48345<=t&&t<=48371||48373<=t&&t<=48399||48401<=t&&t<=48427||48429<=t&&t<=48455||48457<=t&&t<=48483||48485<=t&&t<=48511||48513<=t&&t<=48539||48541<=t&&t<=48567||48569<=t&&t<=48595||48597<=t&&t<=48623||48625<=t&&t<=48651||48653<=t&&t<=48679||48681<=t&&t<=48707||48709<=t&&t<=48735||48737<=t&&t<=48763||48765<=t&&t<=48791||48793<=t&&t<=48819||48821<=t&&t<=48847||48849<=t&&t<=48875||48877<=t&&t<=48903||48905<=t&&t<=48931||48933<=t&&t<=48959||48961<=t&&t<=48987||48989<=t&&t<=49015||49017<=t&&t<=49043||49045<=t&&t<=49071||49073<=t&&t<=49099||49101<=t&&t<=49127||49129<=t&&t<=49155||49157<=t&&t<=49183||49185<=t&&t<=49211||49213<=t&&t<=49239||49241<=t&&t<=49267||49269<=t&&t<=49295||49297<=t&&t<=49323||49325<=t&&t<=49351||49353<=t&&t<=49379||49381<=t&&t<=49407||49409<=t&&t<=49435||49437<=t&&t<=49463||49465<=t&&t<=49491||49493<=t&&t<=49519||49521<=t&&t<=49547||49549<=t&&t<=49575||49577<=t&&t<=49603||49605<=t&&t<=49631||49633<=t&&t<=49659||49661<=t&&t<=49687||49689<=t&&t<=49715||49717<=t&&t<=49743||49745<=t&&t<=49771||49773<=t&&t<=49799||49801<=t&&t<=49827||49829<=t&&t<=49855||49857<=t&&t<=49883||49885<=t&&t<=49911||49913<=t&&t<=49939||49941<=t&&t<=49967||49969<=t&&t<=49995||49997<=t&&t<=50023||50025<=t&&t<=50051||50053<=t&&t<=50079||50081<=t&&t<=50107||50109<=t&&t<=50135||50137<=t&&t<=50163||50165<=t&&t<=50191||50193<=t&&t<=50219||50221<=t&&t<=50247||50249<=t&&t<=50275||50277<=t&&t<=50303||50305<=t&&t<=50331||50333<=t&&t<=50359||50361<=t&&t<=50387||50389<=t&&t<=50415||50417<=t&&t<=50443||50445<=t&&t<=50471||50473<=t&&t<=50499||50501<=t&&t<=50527||50529<=t&&t<=50555||50557<=t&&t<=50583||50585<=t&&t<=50611||50613<=t&&t<=50639||50641<=t&&t<=50667||50669<=t&&t<=50695||50697<=t&&t<=50723||50725<=t&&t<=50751||50753<=t&&t<=50779||50781<=t&&t<=50807||50809<=t&&t<=50835||50837<=t&&t<=50863||50865<=t&&t<=50891||50893<=t&&t<=50919||50921<=t&&t<=50947||50949<=t&&t<=50975||50977<=t&&t<=51003||51005<=t&&t<=51031||51033<=t&&t<=51059||51061<=t&&t<=51087||51089<=t&&t<=51115||51117<=t&&t<=51143||51145<=t&&t<=51171||51173<=t&&t<=51199||51201<=t&&t<=51227||51229<=t&&t<=51255||51257<=t&&t<=51283||51285<=t&&t<=51311||51313<=t&&t<=51339||51341<=t&&t<=51367||51369<=t&&t<=51395||51397<=t&&t<=51423||51425<=t&&t<=51451||51453<=t&&t<=51479||51481<=t&&t<=51507||51509<=t&&t<=51535||51537<=t&&t<=51563||51565<=t&&t<=51591||51593<=t&&t<=51619||51621<=t&&t<=51647||51649<=t&&t<=51675||51677<=t&&t<=51703||51705<=t&&t<=51731||51733<=t&&t<=51759||51761<=t&&t<=51787||51789<=t&&t<=51815||51817<=t&&t<=51843||51845<=t&&t<=51871||51873<=t&&t<=51899||51901<=t&&t<=51927||51929<=t&&t<=51955||51957<=t&&t<=51983||51985<=t&&t<=52011||52013<=t&&t<=52039||52041<=t&&t<=52067||52069<=t&&t<=52095||52097<=t&&t<=52123||52125<=t&&t<=52151||52153<=t&&t<=52179||52181<=t&&t<=52207||52209<=t&&t<=52235||52237<=t&&t<=52263||52265<=t&&t<=52291||52293<=t&&t<=52319||52321<=t&&t<=52347||52349<=t&&t<=52375||52377<=t&&t<=52403||52405<=t&&t<=52431||52433<=t&&t<=52459||52461<=t&&t<=52487||52489<=t&&t<=52515||52517<=t&&t<=52543||52545<=t&&t<=52571||52573<=t&&t<=52599||52601<=t&&t<=52627||52629<=t&&t<=52655||52657<=t&&t<=52683||52685<=t&&t<=52711||52713<=t&&t<=52739||52741<=t&&t<=52767||52769<=t&&t<=52795||52797<=t&&t<=52823||52825<=t&&t<=52851||52853<=t&&t<=52879||52881<=t&&t<=52907||52909<=t&&t<=52935||52937<=t&&t<=52963||52965<=t&&t<=52991||52993<=t&&t<=53019||53021<=t&&t<=53047||53049<=t&&t<=53075||53077<=t&&t<=53103||53105<=t&&t<=53131||53133<=t&&t<=53159||53161<=t&&t<=53187||53189<=t&&t<=53215||53217<=t&&t<=53243||53245<=t&&t<=53271||53273<=t&&t<=53299||53301<=t&&t<=53327||53329<=t&&t<=53355||53357<=t&&t<=53383||53385<=t&&t<=53411||53413<=t&&t<=53439||53441<=t&&t<=53467||53469<=t&&t<=53495||53497<=t&&t<=53523||53525<=t&&t<=53551||53553<=t&&t<=53579||53581<=t&&t<=53607||53609<=t&&t<=53635||53637<=t&&t<=53663||53665<=t&&t<=53691||53693<=t&&t<=53719||53721<=t&&t<=53747||53749<=t&&t<=53775||53777<=t&&t<=53803||53805<=t&&t<=53831||53833<=t&&t<=53859||53861<=t&&t<=53887||53889<=t&&t<=53915||53917<=t&&t<=53943||53945<=t&&t<=53971||53973<=t&&t<=53999||54001<=t&&t<=54027||54029<=t&&t<=54055||54057<=t&&t<=54083||54085<=t&&t<=54111||54113<=t&&t<=54139||54141<=t&&t<=54167||54169<=t&&t<=54195||54197<=t&&t<=54223||54225<=t&&t<=54251||54253<=t&&t<=54279||54281<=t&&t<=54307||54309<=t&&t<=54335||54337<=t&&t<=54363||54365<=t&&t<=54391||54393<=t&&t<=54419||54421<=t&&t<=54447||54449<=t&&t<=54475||54477<=t&&t<=54503||54505<=t&&t<=54531||54533<=t&&t<=54559||54561<=t&&t<=54587||54589<=t&&t<=54615||54617<=t&&t<=54643||54645<=t&&t<=54671||54673<=t&&t<=54699||54701<=t&&t<=54727||54729<=t&&t<=54755||54757<=t&&t<=54783||54785<=t&&t<=54811||54813<=t&&t<=54839||54841<=t&&t<=54867||54869<=t&&t<=54895||54897<=t&&t<=54923||54925<=t&&t<=54951||54953<=t&&t<=54979||54981<=t&&t<=55007||55009<=t&&t<=55035||55037<=t&&t<=55063||55065<=t&&t<=55091||55093<=t&&t<=55119||55121<=t&&t<=55147||55149<=t&&t<=55175||55177<=t&&t<=55203?C:t==9757||t==9977||9994<=t&&t<=9997||t==127877||127938<=t&&t<=127940||t==127943||127946<=t&&t<=127948||128066<=t&&t<=128067||128070<=t&&t<=128080||t==128110||128112<=t&&t<=128120||t==128124||128129<=t&&t<=128131||128133<=t&&t<=128135||t==128170||128372<=t&&t<=128373||t==128378||t==128400||128405<=t&&t<=128406||128581<=t&&t<=128583||128587<=t&&t<=128591||t==128675||128692<=t&&t<=128694||t==128704||t==128716||129304<=t&&t<=129308||129310<=t&&t<=129311||t==129318||129328<=t&&t<=129337||129341<=t&&t<=129342||129489<=t&&t<=129501?w:127995<=t&&t<=127999?f:t==8205?p:t==9792||t==9794||9877<=t&&t<=9878||t==9992||t==10084||t==127752||t==127806||t==127859||t==127891||t==127908||t==127912||t==127979||t==127981||t==128139||128187<=t&&t<=128188||t==128295||t==128300||t==128488||t==128640||t==128658?F:128102<=t&&t<=128105?E:u}return this}r.exports&&(r.exports=s)})(g0);var Es=g0.exports;const vs=D0(Es),ht=new vs;class ws{constructor(s,n){this.pluign=s,this._monaco=n}provideDocumentFormattingEdits(s,n,a){const x=this.detectTables(s);return!x||a.isCancellationRequested?void 0:x.map(i=>({range:i.range,text:this.formatTable(i,s,n)}))}detectTables(s){const n=s.getValue(),a=String.raw`\r?\n`,x=String.raw`(?!\{:(?:\s+\w+="[^"]*")*\})`+String.raw`\|?.*\|.*\|?`,e=String.raw`(?:\|? *:?-+:? *\|)`,i=String.raw`(?: *:?-+:? *\|)*`,D=String.raw`(?: *:?-+:? *\|?)`,m=e+i+D,g=String.raw`(?:\| *:?-+:? *\|)`,l=String.raw`[ \t]*(?:${m}|${g})[ \t]*`,h=new RegExp(x+a+l+"(?:"+a+x+")*","g"),C=Array.from(n.matchAll(h),u=>({text:u[0],offset:u.index,range:this._monaco.Range.fromPositions(s.getPositionAt(u.index),s.getPositionAt(u.index+u[0].length))}));return C.length?C:void 0}getTableIndentation(s,n){let a=!1,x=new RegExp(/^(\s*)\S/u),e=s.match(x),i=(e==null?void 0:e[1].length)??0,D=Math.round(i/n.tabSize);return a?" ".repeat(n.tabSize*D):" ".repeat(i)}formatTable(s,n,a){const x=s.text.normalize(),e=1,i=!1,D=this.getTableIndentation(x,a),m=new RegExp(/^\s*(\S.*)$/gum),g=Array.from(x.matchAll(m),w=>w[1].trim()),l=[],h=[],C=new RegExp(/((\\\||[^\|])*)\|/gu),u=/[\u3000-\u9fff\uac00-\ud7af\uff01-\uff60]/g,I=g.map((w,f)=>{w.startsWith("|")&&(w=w.slice(1)),w.endsWith("|")||(w=w+"|");let p=[],F=0;for(const E of w.matchAll(C)){let q=E[1].trim();if(p.push(q),f===e)continue;const _=ht.countGraphemes(q),k=q.match(u),R=_+((k==null?void 0:k.length)??0);l[F]=Math.max(l[F]||0,R),F++}return p});return I[e]=I[e].map((w,f)=>{if(/:-+:/.test(w)){h[f]=2,l[f]=Math.max(l[f],5);const p=l[f];return":"+"-".repeat(p-2)+":"}else if(/:-+/.test(w)){h[f]=1,l[f]=Math.max(l[f],4);const p=l[f];return":"+"-".repeat(p-1)}else if(/-+:/.test(w)){h[f]=3,l[f]=Math.max(l[f],4);const p=l[f];return"-".repeat(p-1)+":"}else{h[f]=0,l[f]=Math.max(l[f],3);const p=l[f];return"-".repeat(p)}}),I.map((w,f)=>{if(f===e&&i)return D+"|"+w.join("|")+"|";let p=w.map((F,E)=>{const q=l[E];let _=ht.splitGraphemes(F+" ".repeat(q)).slice(0,q).join("").length;const k=F.match(u);return k&&(_-=k.length),this.alignText(F,h[E],_)});return D+"| "+p.join(" | ")+" |"}).join(n.getEOL())}alignText(s,n,a){return n===2&&a>s.length?(" ".repeat(Math.floor((a-s.length)/2))+s+" ".repeat(a)).slice(0,a):n===3?(" ".repeat(a)+s).slice(-a):(s+" ".repeat(a)).slice(0,a)}}const pt=["sqrt","smash","macroname","includegraphics"],ft=["\\","newline","nobreak","allowbreak","cr","cline","hline","multicolumn","KaTeX","LaTeX","TeX"],Dt=[],At=[],Ft=["url"],bt=["href","htmlId","htmlClass","htmlStyle","htmlData"],Et=["'","`","^","~","=","u",".",'"',"r","H","v","tilde","mathring","widetilde","overgroup","utilde","undergroup","acute","vec","Overrightarrow","bar","overleftarrow","overrightarrow","breve","underleftarrow","underrightarrow","check","overleftharpoon","overrightharpoon","dot","overleftrightarrow","overbrace","ddot","underleftrightarrow","underbrace","grave","overline","overlinesegment","hat","underline","underlinesegment","widehat","widecheck","underbar"],vt=["{","}","|","lparen","rparen","lceil","rceil","uparrow","lbrack","rbrack","lfloor","rfloor","downarrow","lbrace","rbrace","lmoustache","rmoustache","updownarrow","langle","rangle","lgroup","rgroup","Uparrow","vert","ulcorner","urcorner","Downarrow","Vert","llcorner","lrcorner","Updownarrow","lvert","rvert","lVert","rVert","backslash","lang","rang","lt","gt","llbracket","rrbracket","lBrace","rBrace"],wt=["left","big","bigl","bigm","bigr","middle","Big","Bigl","Bigm","Bigr","right","bigg","biggl","biggm","biggr","Bigg","Biggl","Biggm","Biggr"],ot=["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","varGamma","varDelta","varTheta","varLambda","varXi","varPi","varSigma","varUpsilon","varPhi","varPsi","varOmega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","varkappa","vartheta","thetasym","varpi","varrho","varsigma","varphi","digamma"],qt=["imath","nabla","Im","Reals","jmath","partial","image","wp","aleph","Game","Bbbk","weierp","alef","Finv","N","Z","alefsym","cnums","natnums","beth","Complex","R","gimel","ell","Re","daleth","hbar","real","eth","hslash","reals"],yt=["cancel","overbrace","bcancel","underbrace","xcancel","not =","sout","boxed","phase","tag","tag*"],_t=["atop"],It=["substack"],Ot=["stackrel","overset","underset","raisebox"],kt=["mathllap","mathrlap","mathclap","llap","rlap","clap","smash"],St=[",","!",">",":",";","thinspace","medspace","thickspace","enspace","quad","qquad","negthinspace","negmedspace","nobreakspace","negthickspace","space","mathstrut"],Kt=["kern","mkern","mskip","hskip","hspace","hspace*","phantom","hphantom","vphantom"],Lt=["forall","complement","therefore","emptyset","exists","subset","because","empty","exist","supset","mapsto","varnothing","nexists","mid","to","implies","in","land","gets","impliedby","isin","lor","leftrightarrow","iff","notin","ni","notni","neg","lnot"],Tt=["Set","set"],Mt=["def","gdef","edef","xdef","let","futurelet","global","newcommand","renewcommand","providecommand","long","char","mathchoice","TextOrMath","@ifstar","@ifnextchar","@firstoftwo","@secondoftwo","relax","expandafter","noexpand"],jt=["sum","prod","bigotimes","bigvee","int","coprod","bigoplus","bigwedge","iint","intop","bigodot","bigcap","iiint","smallint","biguplus","bigcup","oint","oiint","oiiint","bigsqcup"],Rt=["cdot","gtrdot","pmod","cdotp","intercal","pod","centerdot","land","rhd","circ","leftthreetimes","rightthreetimes","amalg","circledast","ldotp","rtimes","And","circledcirc","lor","setminus","ast","circleddash","lessdot","smallsetminus","barwedge","Cup","lhd","sqcap","bigcirc","cup","ltimes","sqcup","bmod","curlyvee","times","boxdot","curlywedge","mp","unlhd","boxminus","div","odot","unrhd","boxplus","divideontimes","ominus","uplus","boxtimes","dotplus","oplus","vee","bullet","doublebarwedge","otimes","veebar","Cap","doublecap","oslash","wedge","cap","doublecup","pm","plusmn","wr"],Pt=["over","above"],Nt=["frac","dfrac","tfrac","cfrac","genfrac"],Vt=["choose"],Gt=["binom","dbinom","tbinom","brace","brack"],Ut=["arcsin","cosec","deg","sec","arccos","cosh","dim","sin","arctan","cot","exp","sinh","arctg","cotg","hom","sh","arcctg","coth","ker","tan","arg","csc","lg","tanh","ch","ctg","ln","tg","cos","cth","log","th","argmax","injlim","min","varinjlim","argmin","lim","plim","varliminf","det","liminf","Pr","varlimsup","gcd","limsup","projlim","varprojlim","inf","max","sup"],zt=["operatorname","operatorname*","operatornamewithlimits"],Ht=["sqrt"],Xt=["doteqdot","lessapprox","smile","eqcirc","lesseqgtr","sqsubset","eqcolon","minuscolon","lesseqqgtr","sqsubseteq","Eqcolon","minuscoloncolon","lessgtr","sqsupset","approx","eqqcolon","equalscolon","lesssim","sqsupseteq","approxcolon","Eqqcolon","equalscoloncolon","ll","Subset","approxcoloncolon","eqsim","lll","subset","sub","approxeq","eqslantgtr","llless","subseteq","sube","asymp","eqslantless","lt","subseteqq","backepsilon","equiv","mid","succ","backsim","fallingdotseq","models","succapprox","backsimeq","frown","multimap","succcurlyeq","between","ge","origof","succeq","bowtie","geq","owns","succsim","bumpeq","geqq","parallel","Supset","Bumpeq","geqslant","perp","supset","circeq","gg","pitchfork","supseteq","supe","colonapprox","ggg","prec","supseteqq","Colonapprox","coloncolonapprox","gggtr","precapprox","thickapprox","coloneq","colonminus","gt","preccurlyeq","thicksim","Coloneq","coloncolonminus","gtrapprox","preceq","trianglelefteq","coloneqq","colonequals","gtreqless","precsim","triangleq","Coloneqq","coloncolonequals","gtreqqless","propto","trianglerighteq","colonsim","gtrless","risingdotseq","varpropto","Colonsim","coloncolonsim","gtrsim","shortmid","vartriangle","cong","imageof","shortparallel","vartriangleleft","curlyeqprec","in","isin","sim","vartriangleright","curlyeqsucc","Join","simcolon","vcentcolon","ratio","dashv","le","simcoloncolon","vdash","dblcolon","coloncolon","leq","simeq","vDash","doteq","leqq","smallfrown","Vdash","Doteq","leqslant","smallsmile","Vvdash"],Wt=["gnapprox","ngeqslant","nsubseteq","precneqq","gneq","ngtr","nsubseteqq","precnsim","gneqq","nleq","nsucc","subsetneq","gnsim","nleqq","nsucceq","subsetneqq","gvertneqq","nleqslant","nsupseteq","succnapprox","lnapprox","nless","nsupseteqq","succneqq","lneq","nmid","ntriangleleft","succnsim","lneqq","notin","ntrianglelefteq","supsetneq","lnsim","notni","ntriangleright","supsetneqq","lvertneqq","nparallel","ntrianglerighteq","varsubsetneq","ncong","nprec","nvdash","varsubsetneqq","ne","npreceq","nvDash","varsupsetneq","neq","nshortmid","nVDash","varsupsetneqq","ngeq","nshortparallel","nVdash","ngeqq","nsim","precnapprox"],Jt=["circlearrowleft","leftharpoonup","rArr","circlearrowright","leftleftarrows","rarr","curvearrowleft","leftrightarrow","restriction","curvearrowright","Leftrightarrow","rightarrow","Darr","leftrightarrows","Rightarrow","dArr","leftrightharpoons","rightarrowtail","darr","leftrightsquigarrow","rightharpoondown","dashleftarrow","Lleftarrow","rightharpoonup","dashrightarrow","longleftarrow","rightleftarrows","downarrow","Longleftarrow","rightleftharpoons","Downarrow","longleftrightarrow","rightrightarrows","downdownarrows","Longleftrightarrow","rightsquigarrow","downharpoonleft","longmapsto","Rrightarrow","downharpoonright","longrightarrow","Rsh","gets","Longrightarrow","searrow","Harr","looparrowleft","swarrow","hArr","looparrowright","to","harr","Lrarr","twoheadleftarrow","hookleftarrow","lrArr","twoheadrightarrow","hookrightarrow","lrarr","Uarr","iff","Lsh","uArr","impliedby","mapsto","uarr","implies","nearrow","uparrow","Larr","nleftarrow","Uparrow","lArr","nLeftarrow","updownarrow","larr","nleftrightarrow","Updownarrow","leadsto","nLeftrightarrow","upharpoonleft","leftarrow","nrightarrow","upharpoonright","Leftarrow","nRightarrow","upuparrows","leftarrowtail","nwarrow","leftharpoondown","Rarr"],st=["xleftarrow","xrightarrow","xLeftarrow","xRightarrow","xleftrightarrow","xLeftrightarrow","xhookleftarrow","xhookrightarrow","xtwoheadleftarrow","xtwoheadrightarrow","xleftharpoonup","xrightharpoonup","xleftharpoondown","xrightharpoondown","xleftrightharpoons","xrightleftharpoons","xtofrom","xmapsto","xlongequal"],Zt=["bra","Bra","ket","Ket","braket","Braket"],Qt=["mathbin","mathclose","mathinner","mathop","mathopen","mathord","mathpunct","mathrel"],Yt=["color","textcolor","colorbox"],$t=["cal","rm","bf","it","sf","tt"],ct=["mathrm","mathbf","mathit","mathnormal","textbf","textit","textrm","bold","Bbb","textnormal","boldsymbol","mathbb","text","bm","frak","mathsf","mathtt","mathfrak","textsf","texttt","mathcal","mathscr","pmb"],dt=["Huge","huge","LARGE","Large","large","normalsize","small","footnotesize","scriptsize","tiny"],t0=["displaystyle","textstyle","scriptstyle","scriptscriptstyle","limits","nolimits","verb"],s0=["%","#","&","_","$","P","S","KaTeX","cdots","LaTeX","ddots","TeX","ldots","nabla","vdots","infty","dotsb","infin","dotsc","checkmark","dotsi","dag","dotsm","dagger","dotso","sdot","ddag","mathellipsis","ddagger","Box","Dagger","lq","square","angle","blacksquare","measuredangle","rq","triangle","sphericalangle","triangledown","top","triangleleft","bot","triangleright","colon","bigtriangledown","backprime","bigtriangleup","pounds","prime","blacktriangle","mathsterling","blacktriangledown","blacktriangleleft","yen","blacktriangleright","surd","diamond","degree","Diamond","lozenge","mho","blacklozenge","diagdown","star","diagup","bigstar","flat","clubsuit","natural","copyright","clubs","sharp","circledR","diamondsuit","heartsuit","diamonds","hearts","circledS","spadesuit","spades","maltese","minuso"],n0=["message","errmessage","show"],r0=["matrix","array","pmatrix","bmatrix","vmatrix","Vmatrix","Bmatrix","cases","rcases","smallmatrix","subarray","equation","split","align","gather","alignat","CD","darray","dcases","drcases","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","equation*","gather*","align*","alignat*","gathered","aligned","alignedat"];class at{constructor(s,n){O(this,"triggerCharacters",["\\"]);O(this,"katexFuncName2Info");O(this,"katexFuncName2detail");O(this,"inlineMathSuggestions");O(this,"displayMathSuggestions");O(this,"inlineMathSuggestionsJSON");O(this,"displayMathSuggestionsJSON");this.pluign=s,this._monaco=n,this.katexFuncName2Info=this.buildKatexFuncsInfoMap(),this.katexFuncName2detail=this.buildKatexFuncsDetailMap(),this.inlineMathSuggestions=this.buildMathSuggestions(" ",""),this.displayMathSuggestions=this.buildMathSuggestions(`
`,"	"),this.inlineMathSuggestionsJSON=JSON.stringify(this.inlineMathSuggestions),this.displayMathSuggestionsJSON=JSON.stringify(this.displayMathSuggestions)}static mathEnvCheck(s,n){const a=s.getValue(),x=s.getOffsetAt(n),e=s.getLineContent(n.lineNumber),i=e.substring(0,n.column-1),D=e.substring(n.column-1),m=i.match(new RegExp("(?<=^|[^\\\\])\\$","g"));if(m!==null&&m.length%2!==0&&D.includes("$"))return 1;{const g=a.substring(0,x),l=a.substring(x),h=g.match(/\$\$/g);return h!==null&&h.length%2!==0&&l.includes("$$")?2:0}}async provideCompletionItems(s,n,a,x){const e=at.mathEnvCheck(s,n),i=s.getLineContent(n.lineNumber).substring(0,n.column-1);switch(s.getLineContent(n.lineNumber).substring(n.column-1),a.triggerCharacter){case this.triggerCharacters[0]:{const D=i.match(/\\+$/);if(D!==null&&D[0].length%2!==0)switch(e){case 1:return{suggestions:JSON.parse(this.inlineMathSuggestionsJSON),incomplete:!1};case 2:return{suggestions:JSON.parse(this.displayMathSuggestionsJSON),incomplete:!1}}break}}return{suggestions:[],incomplete:!1}}async resolveCompletionItem(s,n){return s}makeDocumentation(s="",n=" | "){const a=["[KaTeX](https://katex.org/)","[Functions](https://katex.org/docs/supported)","[Reference](https://katex.org/docs/support_table)"];return s&&a.push(`[${s}](<https://katex.org/docs/support_table#:~:text=${s}>)`),{value:a.join(n)}}setKatexFuncsInfo(s,n,a,x){s.set(n,{name:n,description:a,kind:x,documentation:this.makeDocumentation(`\\${n}`)})}buildKatexFuncsInfoMap(){const s=new Map;return pt.forEach(n=>this.setKatexFuncsInfo(s,n,"Special",this._monaco.languages.CompletionItemKind.Variable)),ft.forEach(n=>this.setKatexFuncsInfo(s,n,"Other",this._monaco.languages.CompletionItemKind.Field)),Dt.forEach(n=>this.setKatexFuncsInfo(s,n,"Other",this._monaco.languages.CompletionItemKind.Function)),At.forEach(n=>this.setKatexFuncsInfo(s,n,"Other",this._monaco.languages.CompletionItemKind.Class)),Ft.forEach(n=>this.setKatexFuncsInfo(s,n,"HTML",this._monaco.languages.CompletionItemKind.Reference)),bt.forEach(n=>this.setKatexFuncsInfo(s,n,"HTML",this._monaco.languages.CompletionItemKind.Reference)),Et.forEach(n=>this.setKatexFuncsInfo(s,n,"Accent",this._monaco.languages.CompletionItemKind.Event)),yt.forEach(n=>this.setKatexFuncsInfo(s,n,"Annotation",this._monaco.languages.CompletionItemKind.Text)),Jt.forEach(n=>this.setKatexFuncsInfo(s,n,"Arrow",this._monaco.languages.CompletionItemKind.Interface)),jt.forEach(n=>this.setKatexFuncsInfo(s,n,"Big Operator",this._monaco.languages.CompletionItemKind.Operator)),Rt.forEach(n=>this.setKatexFuncsInfo(s,n,"Binary Operator",this._monaco.languages.CompletionItemKind.Operator)),Vt.forEach(n=>this.setKatexFuncsInfo(s,n,"Binomial",this._monaco.languages.CompletionItemKind.Operator)),Gt.forEach(n=>this.setKatexFuncsInfo(s,n,"Binomial",this._monaco.languages.CompletionItemKind.Operator)),Zt.forEach(n=>this.setKatexFuncsInfo(s,n,"Bra-ket Notation",this._monaco.languages.CompletionItemKind.Operator)),Qt.forEach(n=>this.setKatexFuncsInfo(s,n,"Class Assignment",this._monaco.languages.CompletionItemKind.Class)),Yt.forEach(n=>this.setKatexFuncsInfo(s,n,"Color",this._monaco.languages.CompletionItemKind.Color)),n0.forEach(n=>this.setKatexFuncsInfo(s,n,"Debug",this._monaco.languages.CompletionItemKind.Property)),wt.forEach(n=>this.setKatexFuncsInfo(s,n,"Delimiter Sizing",this._monaco.languages.CompletionItemKind.Operator)),vt.forEach(n=>this.setKatexFuncsInfo(s,n,"Delimiter",this._monaco.languages.CompletionItemKind.Operator)),r0.forEach(n=>this.setKatexFuncsInfo(s,n,"Environment",this._monaco.languages.CompletionItemKind.EnumMember)),st.forEach(n=>this.setKatexFuncsInfo(s,n,"Extensible Arrow",this._monaco.languages.CompletionItemKind.Interface)),$t.forEach(n=>this.setKatexFuncsInfo(s,n,"Font",this._monaco.languages.CompletionItemKind.Text)),ct.forEach(n=>this.setKatexFuncsInfo(s,n,"Font",this._monaco.languages.CompletionItemKind.Text)),Pt.forEach(n=>this.setKatexFuncsInfo(s,n,"Fraction",this._monaco.languages.CompletionItemKind.Operator)),Nt.forEach(n=>this.setKatexFuncsInfo(s,n,"Fraction",this._monaco.languages.CompletionItemKind.Operator)),ot.forEach(n=>this.setKatexFuncsInfo(s,n,"Greek Letter",this._monaco.languages.CompletionItemKind.Text)),Lt.forEach(n=>this.setKatexFuncsInfo(s,n,"Logic & Set",this._monaco.languages.CompletionItemKind.Module)),Tt.forEach(n=>this.setKatexFuncsInfo(s,n,"Logic & Set",this._monaco.languages.CompletionItemKind.Module)),Mt.forEach(n=>this.setKatexFuncsInfo(s,n,"Macros",this._monaco.languages.CompletionItemKind.Keyword)),Ut.forEach(n=>this.setKatexFuncsInfo(s,n,"Math Operator",this._monaco.languages.CompletionItemKind.Operator)),zt.forEach(n=>this.setKatexFuncsInfo(s,n,"Math Operator",this._monaco.languages.CompletionItemKind.Operator)),Wt.forEach(n=>this.setKatexFuncsInfo(s,n,"Negated Relation",this._monaco.languages.CompletionItemKind.Interface)),qt.forEach(n=>this.setKatexFuncsInfo(s,n,"Other Letter",this._monaco.languages.CompletionItemKind.Text)),kt.forEach(n=>this.setKatexFuncsInfo(s,n,"Overlap",this._monaco.languages.CompletionItemKind.Struct)),Xt.forEach(n=>this.setKatexFuncsInfo(s,n,"Relation",this._monaco.languages.CompletionItemKind.Interface)),dt.forEach(n=>this.setKatexFuncsInfo(s,n,"Size",this._monaco.languages.CompletionItemKind.Value)),St.forEach(n=>this.setKatexFuncsInfo(s,n,"Spacing",this._monaco.languages.CompletionItemKind.Operator)),Kt.forEach(n=>this.setKatexFuncsInfo(s,n,"Spacing",this._monaco.languages.CompletionItemKind.Operator)),Ht.forEach(n=>this.setKatexFuncsInfo(s,n,"SQRT",this._monaco.languages.CompletionItemKind.Operator)),t0.forEach(n=>this.setKatexFuncsInfo(s,n,"Style",this._monaco.languages.CompletionItemKind.Color)),s0.forEach(n=>this.setKatexFuncsInfo(s,n,"Symbols & Punctuation",this._monaco.languages.CompletionItemKind.Operator)),_t.forEach(n=>this.setKatexFuncsInfo(s,n,"Vertical Layout",this._monaco.languages.CompletionItemKind.Struct)),It.forEach(n=>this.setKatexFuncsInfo(s,n,"Vertical Layout",this._monaco.languages.CompletionItemKind.Struct)),Ot.forEach(n=>this.setKatexFuncsInfo(s,n,"Vertical Layout",this._monaco.languages.CompletionItemKind.Struct)),s}buildKatexFuncsDetailMap(){const s=new Map;return s.set("acute","   "),s.set("'","   "),s.set("bar","   "),s.set("=","   "),s.set("breve","   "),s.set("u","   "),s.set("check","   "),s.set("v","   "),s.set("dot","  a "),s.set(".","  a "),s.set("ddot","   "),s.set('"',"   "),s.set("grave","   "),s.set("`","   "),s.set("hat","   "),s.set("^","   "),s.set("tilde","   "),s.set("~","   "),s.set("mathring","   o"),s.set("r","   o"),s.set("H","  a "),s.set("lparen","("),s.set("rparen",")"),s.set("lbrack","["),s.set("rbrack","]"),s.set("lbrace","{"),s.set("rbrace","{"),s.set("{","{"),s.set("}","}"),s.set("langle",""),s.set("rangle",""),s.set("vert","|"),s.set("Vert",""),s.set("|",""),s.set("lvert",""),s.set("rvert",""),s.set("lVert",""),s.set("rVert",""),s.set("lang",""),s.set("rang",""),s.set("lt","<"),s.set("gt",">"),s.set("lceil",""),s.set("rceil",""),s.set("lfloor",""),s.set("rfloor",""),s.set("lmoustache",""),s.set("rmoustache",""),s.set("lgroup",""),s.set("rgroup",""),s.set("ulcorner",""),s.set("urcorner",""),s.set("llcorner",""),s.set("lrcorner",""),s.set("llbracket",""),s.set("rrbracket",""),s.set("lBrace",""),s.set("rBrace",""),s.set("Alpha","A"),s.set("Beta","B"),s.set("Gamma",""),s.set("Delta",""),s.set("Epsilon","E"),s.set("Zeta","Z"),s.set("Eta","H"),s.set("Theta",""),s.set("Iota","I"),s.set("Kappa","K"),s.set("Lambda",""),s.set("Mu","M"),s.set("Nu","N"),s.set("Xi",""),s.set("Omicron","O"),s.set("Pi",""),s.set("Rho","P"),s.set("Sigma",""),s.set("Tau","T"),s.set("Upsilon",""),s.set("Phi",""),s.set("Chi","X"),s.set("Psi",""),s.set("Omega",""),s.set("varGamma",""),s.set("varDelta",""),s.set("varTheta",""),s.set("varLambda",""),s.set("varXi",""),s.set("varPi",""),s.set("varSigma",""),s.set("varUpsilon",""),s.set("varPhi",""),s.set("varPsi",""),s.set("varOmega",""),s.set("alpha",""),s.set("beta",""),s.set("gamma",""),s.set("delta",""),s.set("epsilon",""),s.set("zeta",""),s.set("eta",""),s.set("theta",""),s.set("iota",""),s.set("kappa",""),s.set("lambda",""),s.set("mu",""),s.set("nu",""),s.set("omicron","o"),s.set("xi",""),s.set("pi",""),s.set("rho",""),s.set("sigma",""),s.set("tau",""),s.set("upsilon",""),s.set("phi",""),s.set("chi",""),s.set("psi",""),s.set("omega",""),s.set("varepsilon",""),s.set("varkappa",""),s.set("vartheta",""),s.set("thetasym",""),s.set("varpi",""),s.set("varrho",""),s.set("varsigma",""),s.set("varphi",""),s.set("digamma",""),s.set("imath",""),s.set("nabla",""),s.set("Im",""),s.set("Reals","R"),s.set("OE",""),s.set("jmath",""),s.set("partial",""),s.set("image",""),s.set("wp",""),s.set("o",""),s.set("aleph",""),s.set("Game",""),s.set("Bbbk","k"),s.set("weierp",""),s.set("O",""),s.set("alef",""),s.set("Finv",""),s.set("N","N"),s.set("Z","Z"),s.set("ss",""),s.set("alefsym",""),s.set("cnums","C"),s.set("natnums","N"),s.set("aa",""),s.set("i",""),s.set("beth",""),s.set("Complex","C"),s.set("R","R"),s.set("AA",""),s.set("j",""),s.set("gimel",""),s.set("ell",""),s.set("Re",""),s.set("ae",""),s.set("daleth",""),s.set("hbar",""),s.set("real",""),s.set("AE",""),s.set("eth",""),s.set("hslash",""),s.set("reals","R"),s.set("oe",""),s.set(","," em"),s.set("thinspace"," em"),s.set(">"," em"),s.set(":"," em"),s.set("medspace"," em"),s.set(";"," em"),s.set("thickspace"," em"),s.set("enspace"," em"),s.set("quad","1 em"),s.set("qquad","2 em"),s.set("!"," em"),s.set("negthinspace"," em"),s.set("negmedspace"," em"),s.set("negthickspace"," em"),s.set("forall",""),s.set("complement",""),s.set("therefore",""),s.set("emptyset",""),s.set("exists",""),s.set("subset",""),s.set("because",""),s.set("empty",""),s.set("exist",""),s.set("supset",""),s.set("mapsto",""),s.set("varnothing",""),s.set("nexists",""),s.set("mid",""),s.set("to",""),s.set("implies",""),s.set("in",""),s.set("land",""),s.set("gets",""),s.set("impliedby",""),s.set("isin",""),s.set("lor",""),s.set("leftrightarrow",""),s.set("iff",""),s.set("notin",""),s.set("ni",""),s.set("notni",""),s.set("neg",""),s.set("lnot",""),s.set("sum",""),s.set("prod",""),s.set("bigotimes",""),s.set("bigvee",""),s.set("int",""),s.set("coprod",""),s.set("bigoplus",""),s.set("bigwedge",""),s.set("iint",""),s.set("intop",""),s.set("bigodot",""),s.set("bigcap",""),s.set("iiint",""),s.set("smallint",""),s.set("biguplus",""),s.set("bigcup",""),s.set("oint",""),s.set("oiint",""),s.set("oiiint",""),s.set("bigsqcup",""),s.set("amalg",""),s.set("And","&"),s.set("ast",""),s.set("barwedge",""),s.set("bigcirc",""),s.set("bmod","mod"),s.set("boxdot",""),s.set("boxminus",""),s.set("boxplus",""),s.set("boxtimes",""),s.set("bullet",""),s.set("Cap",""),s.set("cap",""),s.set("cdot",""),s.set("cdotp",""),s.set("centerdot",""),s.set("circ",""),s.set("circledast",""),s.set("circledcirc",""),s.set("circleddash",""),s.set("Cup",""),s.set("cup",""),s.set("curlyvee",""),s.set("curlywedge",""),s.set("div",""),s.set("divideontimes",""),s.set("dotplus",""),s.set("doublebarwedge",""),s.set("doublecap",""),s.set("doublecup",""),s.set("gtrdot",""),s.set("intercal",""),s.set("land",""),s.set("leftthreetimes",""),s.set("ldotp","."),s.set("lor",""),s.set("lessdot",""),s.set("lhd",""),s.set("ltimes",""),s.set("mod","mod"),s.set("mp",""),s.set("odot",""),s.set("ominus",""),s.set("oplus",""),s.set("otimes",""),s.set("oslash",""),s.set("pm",""),s.set("plusmn",""),s.set("pmod","(mod )"),s.set("pod","()"),s.set("rhd",""),s.set("rightthreetimes",""),s.set("rtimes",""),s.set("setminus",""),s.set("smallsetminus",""),s.set("sqcap",""),s.set("sqcup",""),s.set("times",""),s.set("unlhd",""),s.set("unrhd",""),s.set("uplus",""),s.set("vee",""),s.set("veebar",""),s.set("wedge",""),s.set("wr",""),s.set("arcsin","arcsin"),s.set("arccos","arccos"),s.set("arctan","arctan"),s.set("arctg","arctg"),s.set("arcctg","arcctg"),s.set("arg","arg"),s.set("ch","ch"),s.set("cos","cos"),s.set("argmax","arg max"),s.set("argmin","arg min"),s.set("det","det"),s.set("gcd","gcd"),s.set("inf","inf"),s.set("cosec","cosec"),s.set("cosh","cosh"),s.set("cot","cot"),s.set("cotg","cotg"),s.set("coth","coth"),s.set("csc","csc"),s.set("ctg","ctg"),s.set("cth","cth"),s.set("injlim","inj lim"),s.set("lim","lim"),s.set("liminf","lim inf"),s.set("limsup","lim sup"),s.set("max","max"),s.set("deg","deg"),s.set("dim","dim"),s.set("exp","exp"),s.set("hom","hom"),s.set("ker","ker"),s.set("lg","lg"),s.set("ln","ln"),s.set("log","log"),s.set("min","min"),s.set("plim","plim"),s.set("Pr","Pr"),s.set("projlim","proj lim"),s.set("sup","sup"),s.set("sec","sec"),s.set("sin","sin"),s.set("sinh","sinh"),s.set("sh","sh"),s.set("tan","tan"),s.set("tanh","tanh"),s.set("tg","tg"),s.set("th","th"),s.set("operatorname","f"),s.set("operatorname*","f"),s.set("operatornamewithlimits","f"),s.set("not =","="),s.set("=","="),s.set("<","<"),s.set(">",">"),s.set(":",":"),s.set("approx",""),s.set("approxcolon",":"),s.set("approxcoloncolon",""),s.set("approxeq",""),s.set("asymp",""),s.set("backepsilon",""),s.set("backsim",""),s.set("backsimeq",""),s.set("between",""),s.set("bowtie",""),s.set("bumpeq",""),s.set("Bumpeq",""),s.set("circeq",""),s.set("colonapprox",":"),s.set("Colonapprox",""),s.set("coloncolonapprox",""),s.set("coloneq",":"),s.set("colonminus",":"),s.set("Coloneq",""),s.set("coloncolonminus",""),s.set("coloneqq",""),s.set("colonequals",""),s.set("Coloneqq","="),s.set("coloncolonequals","="),s.set("colonsim",":"),s.set("Colonsim",""),s.set("coloncolonsim",""),s.set("cong",""),s.set("curlyeqprec",""),s.set("curlyeqsucc",""),s.set("dashv",""),s.set("dblcolon",""),s.set("coloncolon",""),s.set("doteq",""),s.set("Doteq",""),s.set("doteqdot",""),s.set("eqcirc",""),s.set("eqcolon",""),s.set("minuscolon",""),s.set("Eqcolon",""),s.set("minuscoloncolon",""),s.set("eqqcolon",""),s.set("equalscolon",""),s.set("Eqqcolon","="),s.set("equalscoloncolon","="),s.set("eqsim",""),s.set("eqslantgtr",""),s.set("eqslantless",""),s.set("equiv",""),s.set("fallingdotseq",""),s.set("frown",""),s.set("ge",""),s.set("geq",""),s.set("geqq",""),s.set("geqslant",""),s.set("gg",""),s.set("ggg",""),s.set("gggtr",""),s.set("gt",">"),s.set("gtrapprox",""),s.set("gtreqless",""),s.set("gtreqqless",""),s.set("gtrless",""),s.set("gtrsim",""),s.set("imageof",""),s.set("in",""),s.set("isin",""),s.set("Join",""),s.set("le",""),s.set("leq",""),s.set("leqq",""),s.set("leqslant",""),s.set("lessapprox",""),s.set("lesseqgtr",""),s.set("lesseqqgtr",""),s.set("lessgtr",""),s.set("lesssim",""),s.set("lll",""),s.set("llless",""),s.set("lt","<"),s.set("mid",""),s.set("models",""),s.set("multimap",""),s.set("origof",""),s.set("owns",""),s.set("parallel",""),s.set("perp",""),s.set("pitchfork",""),s.set("prec",""),s.set("precapprox",""),s.set("preccurlyeq",""),s.set("preceq",""),s.set("precsim",""),s.set("propto",""),s.set("risingdotseq",""),s.set("shortmid",""),s.set("shortparallel",""),s.set("sim",""),s.set("simcolon",":"),s.set("simcoloncolon",""),s.set("simeq",""),s.set("smallfrown",""),s.set("smallsmile",""),s.set("smile",""),s.set("sqsubset",""),s.set("sqsubseteq",""),s.set("sqsupset",""),s.set("sqsupseteq",""),s.set("subset",""),s.set("sub",""),s.set("subseteq",""),s.set("sube",""),s.set("subseteqq",""),s.set("succ",""),s.set("succapprox",""),s.set("succcurlyeq",""),s.set("succeq",""),s.set("succsim",""),s.set("Supset",""),s.set("supset",""),s.set("supseteq",""),s.set("supe",""),s.set("supseteqq",""),s.set("thickapprox",""),s.set("thicksim",""),s.set("trianglelefteq",""),s.set("triangleq",""),s.set("trianglerighteq",""),s.set("varpropto",""),s.set("vartriangle",""),s.set("vartriangleleft",""),s.set("vartriangleright",""),s.set("vcentcolon",":"),s.set("ratio",":"),s.set("vdash",""),s.set("vDash",""),s.set("Vdash",""),s.set("Vvdash",""),s.set("not =","="),s.set("gnapprox",""),s.set("gneq",""),s.set("gneqq",""),s.set("gnsim",""),s.set("gvertneqq",""),s.set("lnapprox",""),s.set("lneq",""),s.set("lneqq",""),s.set("lnsim",""),s.set("lvertneqq",""),s.set("ncong",""),s.set("ne",""),s.set("neq",""),s.set("ngeq",""),s.set("ngeqq",""),s.set("ngeqslant",""),s.set("ngtr",""),s.set("nleq",""),s.set("nleqq",""),s.set("nleqslant",""),s.set("nless",""),s.set("nmid",""),s.set("notin",""),s.set("notni",""),s.set("nparallel",""),s.set("nprec",""),s.set("npreceq",""),s.set("nshortmid",""),s.set("nshortparallel",""),s.set("nsim",""),s.set("nsubseteq",""),s.set("nsubseteqq",""),s.set("nsucc",""),s.set("nsucceq",""),s.set("nsupseteq",""),s.set("nsupseteqq",""),s.set("ntriangleleft",""),s.set("ntrianglelefteq",""),s.set("ntriangleright",""),s.set("ntrianglerighteq",""),s.set("nvdash",""),s.set("nvDash",""),s.set("nVDash",""),s.set("nVdash",""),s.set("precnapprox",""),s.set("precneqq",""),s.set("precnsim",""),s.set("subsetneq",""),s.set("subsetneqq",""),s.set("succnapprox",""),s.set("succneqq",""),s.set("succnsim",""),s.set("supsetneq",""),s.set("supsetneqq",""),s.set("varsubsetneq",""),s.set("varsubsetneqq",""),s.set("varsupsetneq",""),s.set("varsupsetneqq",""),s.set("circlearrowleft",""),s.set("circlearrowright",""),s.set("curvearrowleft",""),s.set("curvearrowright",""),s.set("Darr",""),s.set("dArr",""),s.set("darr",""),s.set("dashleftarrow",""),s.set("dashrightarrow",""),s.set("downarrow",""),s.set("Downarrow",""),s.set("downdownarrows",""),s.set("downharpoonleft",""),s.set("downharpoonright",""),s.set("gets",""),s.set("Harr",""),s.set("hArr",""),s.set("harr",""),s.set("hookleftarrow",""),s.set("hookrightarrow",""),s.set("iff",""),s.set("impliedby",""),s.set("implies",""),s.set("Larr",""),s.set("lArr",""),s.set("larr",""),s.set("leadsto",""),s.set("leftarrow",""),s.set("Leftarrow",""),s.set("leftarrowtail",""),s.set("leftharpoondown",""),s.set("leftharpoonup",""),s.set("leftleftarrows",""),s.set("leftrightarrow",""),s.set("Leftrightarrow",""),s.set("leftrightarrows",""),s.set("leftrightharpoons",""),s.set("leftrightsquigarrow",""),s.set("Lleftarrow",""),s.set("longleftarrow",""),s.set("Longleftarrow",""),s.set("longleftrightarrow",""),s.set("Longleftrightarrow",""),s.set("longmapsto",""),s.set("longrightarrow",""),s.set("Longrightarrow",""),s.set("looparrowleft",""),s.set("looparrowright",""),s.set("Lrarr",""),s.set("lrArr",""),s.set("lrarr",""),s.set("Lsh",""),s.set("mapsto",""),s.set("nearrow",""),s.set("nleftarrow",""),s.set("nLeftarrow",""),s.set("nleftrightarrow",""),s.set("nLeftrightarrow",""),s.set("nrightarrow",""),s.set("nRightarrow",""),s.set("nwarrow",""),s.set("Rarr",""),s.set("rArr",""),s.set("rarr",""),s.set("restriction",""),s.set("rightarrow",""),s.set("Rightarrow",""),s.set("rightarrowtail",""),s.set("rightharpoondown",""),s.set("rightharpoonup",""),s.set("rightleftarrows",""),s.set("rightleftharpoons",""),s.set("rightrightarrows",""),s.set("rightsquigarrow",""),s.set("Rrightarrow",""),s.set("Rsh",""),s.set("searrow",""),s.set("swarrow",""),s.set("to",""),s.set("twoheadleftarrow",""),s.set("twoheadrightarrow",""),s.set("Uarr",""),s.set("uArr",""),s.set("uarr",""),s.set("uparrow",""),s.set("Uparrow",""),s.set("updownarrow",""),s.set("Updownarrow",""),s.set("upharpoonleft",""),s.set("upharpoonright",""),s.set("upuparrows",""),s.set("xleftarrow",""),s.set("xrightarrow",""),s.set("xLeftarrow",""),s.set("xRightarrow",""),s.set("xleftrightarrow",""),s.set("xLeftrightarrow",""),s.set("xhookleftarrow",""),s.set("xhookrightarrow",""),s.set("xtwoheadleftarrow",""),s.set("xtwoheadrightarrow",""),s.set("xleftharpoonup",""),s.set("xrightharpoonup",""),s.set("xleftharpoondown",""),s.set("xrightharpoondown",""),s.set("xleftrightharpoons",""),s.set("xrightleftharpoons",""),s.set("xtofrom",""),s.set("xmapsto",""),s.set("xlongequal","="),s.set("bra","  |"),s.set("ket","|  "),s.set("braket","  "),s.set("Bra","  |"),s.set("Ket","|  "),s.set("Braket","  "),s.set("%","%"),s.set("#","#"),s.set("&","&"),s.set("_","_"),s.set("textunderscore","_"),s.set("textendash",""),s.set("textemdash",""),s.set("textasciitilde","~"),s.set("textasciicircum","^"),s.set("textquoteleft",""),s.set("lq",""),s.set("textquoteright",""),s.set("rq",""),s.set("textquotedblleft",""),s.set("textquotedblright",""),s.set("colon",":"),s.set("backprime",""),s.set("prime",""),s.set("textless","<"),s.set("textgreater",">"),s.set("textbar","|"),s.set("textbardbl",""),s.set("textbraceleft","{"),s.set("textbraceright","}"),s.set("textbackslash","\\"),s.set("P",""),s.set("S",""),s.set("sect",""),s.set("copyright",""),s.set("circledR",""),s.set("textregistered",""),s.set("circledS",""),s.set("textcircled",""),s.set("dots",""),s.set("cdots",""),s.set("ddots",""),s.set("ldots",""),s.set("vdots",""),s.set("dotsb",""),s.set("dotsc",""),s.set("dotsi",""),s.set("dotsm",""),s.set("dotso",""),s.set("sdot",""),s.set("mathellipsis",""),s.set("text",""),s.set("Box",""),s.set("square",""),s.set("blacksquare",""),s.set("triangle",""),s.set("triangledown",""),s.set("triangleleft",""),s.set("triangleright",""),s.set("bigtriangledown",""),s.set("bigtriangleup",""),s.set("blacktriangle",""),s.set("blacktriangledown",""),s.set("blacktriangleleft",""),s.set("blacktriangleright",""),s.set("diamond",""),s.set("Diamond",""),s.set("lozenge",""),s.set("blacklozenge",""),s.set("star",""),s.set("bigstar",""),s.set("clubsuit",""),s.set("clubs",""),s.set("diamondsuit",""),s.set("diamonds",""),s.set("spadesuit",""),s.set("maltese",""),s.set("KaTeX","KTX"),s.set("LaTeX","LTX"),s.set("TeX","TX"),s.set("nabla",""),s.set("infty",""),s.set("infin",""),s.set("checkmark",""),s.set("dag",""),s.set("dagger",""),s.set("ddag",""),s.set("ddagger",""),s.set("textdagger",""),s.set("textdaggerdbl",""),s.set("Dagger",""),s.set("angle",""),s.set("measuredangle",""),s.set("sphericalangle",""),s.set("top",""),s.set("bot",""),s.set("$","$"),s.set("textdollar","$"),s.set("pounds",""),s.set("mathsterling",""),s.set("textsterling",""),s.set("yen",""),s.set("surd",""),s.set("degree",""),s.set("textdegree",""),s.set("mho",""),s.set("diagdown",""),s.set("diagup",""),s.set("flat",""),s.set("natural",""),s.set("sharp",""),s.set("heartsuit",""),s.set("hearts",""),s.set("spades",""),s.set("minuso",""),s}buildMathSuggestions(s=`
`,n="	"){const a=Array.from(new Set([...ft,...Jt,...jt,...Rt,...Vt,...n0,...wt,...vt,...$t,...Pt,...ot,...Lt,...Mt,...Ut,...Wt,...qt,...Xt,...dt,...St,...t0,...s0,..._t])).map(C=>{const u=this.katexFuncName2Info.get(C);return{label:{label:`\\${C}`,description:u==null?void 0:u.description},detail:C,kind:(u==null?void 0:u.kind)??this._monaco.languages.CompletionItemKind.Field,documentation:u==null?void 0:u.documentation,insertText:C,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.None,range:void 0}}),x=Array.from(new Set([...Dt,...Ft,...Et,...yt,...Zt,...Qt,...st,...ct,...Tt,...zt,...kt,...Kt,...Ht,...It])).map(C=>{const u=this.katexFuncName2Info.get(C);return{label:{label:`\\${C}{...}`,description:u==null?void 0:u.description},detail:C,kind:(u==null?void 0:u.kind)??this._monaco.languages.CompletionItemKind.Function,documentation:u==null?void 0:u.documentation,insertText:`${C}{$1}`,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0}}),e=Array.from(new Set([...At,...bt,...Gt,...Yt,...Nt,...Ot])).map(C=>{const u=this.katexFuncName2Info.get(C);return{label:{label:`\\${C}{...}{...}`,description:u==null?void 0:u.description},detail:C,kind:(u==null?void 0:u.kind)??this._monaco.languages.CompletionItemKind.Class,documentation:u==null?void 0:u.documentation,insertText:`${C}{$1}{$2}`,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0}}),i=Array.from(new Set([...pt,...st])).map(C=>{const u=this.katexFuncName2Info.get(C);return{label:{label:`\\${C}[...]{...}`,description:u==null?void 0:u.description},detail:C,kind:(u==null?void 0:u.kind)??this._monaco.languages.CompletionItemKind.Class,documentation:u==null?void 0:u.documentation,insertText:`${C}[$1]{$2}`,insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0}}),D={label:{label:"\\begin{...} ... \\end{...}",description:"Environments"},detail:"begin",kind:this._monaco.languages.CompletionItemKind.Snippet,documentation:this.makeDocumentation(),insertText:[`begin{\${1|${r0.join(",")}|}}`,`${n}$2`,"\\end{$1}"].join(s),insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0},m={label:{label:"\\begin{array}{...} ... \\end{array}",description:"Array & Table"},detail:"begin",kind:this._monaco.languages.CompletionItemKind.Snippet,documentation:this.makeDocumentation("{array}"),insertText:["begin{array}{$1}",`${n}$2`,"\\end{array}"].join(s),insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0},g={label:{label:"\\begin{matrix*}[...] ... \\end{matrix*}",description:"Matrix"},detail:"begin",kind:this._monaco.languages.CompletionItemKind.Snippet,documentation:this.makeDocumentation("{matrix*}"),insertText:[`begin{\${1|${["matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"].join(",")}|}}[\${2|l,c,r|}]`,`${n}$3`,"\\end{$1}"].join(s),insertTextRules:this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:void 0},l=[],h=[...a,...x,...e,...i,D,m,g,...l];for(const C of h){const u=typeof C.label=="string"?C.label:C.label.label;C.sortText=u.replace(/[a-zA-Z]/g,f=>/[a-z]/.test(f)?`0${f}`:`1${f.toLowerCase()}`);const I=C.detail,w=this.katexFuncName2detail.get(I);if(w){const f=w.padStart(30-u.length+w.length," ");typeof C.label=="string"?C.label={label:u,detail:f}:C.label.detail=f}}return h}}const M=class M{constructor(s,n,a){O(this,"_langs");O(this,"_set_id",new Set);O(this,"_map_alias_id",new Map);O(this,"_map_extension_id",new Map);O(this,"_map_mimetype_id",new Map);O(this,"_map_id_extension",new Map);O(this,"_map_id_mimetype",new Map);O(this,"siyuanHoverProvider",{provideHover:(s,n,a)=>{const x=s.getLineContent(n.lineNumber),i=M.getSiyuanTokens(x).find(m=>m.start<=n.column&&n.column<=m.end),D={contents:[]};return i?new Promise((m,g)=>{const l=setTimeout(()=>{this._dispatch("hover",{id:i.id}),m(D)},1e3);a.onCancellationRequested(h=>{clearTimeout(l),m(D)})}):D}});O(this,"siyuanLinkProvider",{provideLinks:(s,n)=>{const a=[],x=s.getLinesContent(),e=x.length;for(let i=0;i<e;++i){const D=M.getSiyuanTokens(x[i]);for(const m of D){const g={range:{startLineNumber:i+1,startColumn:m.start,endLineNumber:i+1,endColumn:m.end},id:m.id,type:m.type,token:m.token};switch(m.type){case 0:{g.tooltip=this.pluign.i18n.editor.tooltip.siyuanBlockHyperlink.label;break}case 1:{g.tooltip=this.pluign.i18n.editor.tooltip.siyuanBlockReference.label;break}case 2:{g.tooltip=this.pluign.i18n.editor.tooltip.siyuanBlockID.label;break}}g.tooltip=`${g.tooltip}  [${g.id}]`,a.push(g)}}return{links:a}},resolveLink:(s,n)=>{switch(s.type){case 0:{s.url=s.token;break}default:{s.url=`siyuan://blocks/${s.id}`;break}}const a=new URL(s.url);return this._dispatch("open",{id:s.id,focus:parseInt(a.searchParams.get("focus"))}),s.url=this._monaco.Uri.parse(s.url),s}});this.pluign=s,this._monaco=n,this._dispatch=a,this._langs=this._monaco.languages.getLanguages(),this._langs.forEach(x=>{const e=this.wash(x.id);this._set_id.add(e),this._monaco.languages.registerLinkProvider(e,this.siyuanLinkProvider),this._monaco.languages.registerHoverProvider(e,this.siyuanHoverProvider),x.aliases&&x.aliases.forEach(i=>{this._map_alias_id.set(this.wash(i),e)}),x.extensions&&(x.extensions.forEach(i=>{this._map_extension_id.set(this.wash(i),e)}),x.extensions.length>0&&this._map_id_extension.set(e,this.wash(x.extensions.at(0)))),x.mimetypes&&(x.mimetypes.forEach(i=>{this._map_mimetype_id.set(this.wash(i),e)}),x.mimetypes.length>0&&this._map_id_mimetype.set(e,this.wash(x.mimetypes.at(0))))}),this._map_extension_id.set(".sy","json"),this._map_extension_id.set(".ipynb","json"),this._map_extension_id.set(".drawio","xml"),this._monaco.languages.registerDocumentFormattingEditProvider("markdown",new ws(this.pluign,this._monaco)),this._monaco.languages.registerCompletionItemProvider("markdown",new at(this.pluign,this._monaco))}static getSiyuanTokens(s){const n=[],a=s.matchAll(M.REGEXP.siyuan);for(const x of a){const e=x.at(0),i=x.index+1,D=i+e.length,{type:m,id:g}=(()=>{switch(!0){case x.at(1)!==void 0:return{type:0,id:e.match(M.REGEXP.id).at(0)};case x.at(2)!==void 0:return{type:1,id:e.match(M.REGEXP.id).at(0)};case x.at(3)!==void 0:return{type:2,id:e}}})();n.push({token:e,type:m,id:g,start:i,end:D})}return n}wash(s){return s.trim().toLowerCase()}getExtension(s){return s=this.wash(s),this._map_id_extension.get(s)??s}getMimeType(s){return s=this.wash(s),this._map_id_mimetype.get(s)??s}map(s){switch(s=this.wash(s),!0){case this._set_id.has(s):return s;case this._map_alias_id.has(s):return this._map_alias_id.get(s);case this._map_extension_id.has(s):return this._map_extension_id.get(s);case this._map_mimetype_id.has(s):return this._map_mimetype_id.get(s);default:return s}}};O(M,"REGEXP",{siyuan:/(siyuan:\/\/\S*\d{14}-[0-9a-z]{7}\S*)|(\(\(\d{14}-[0-9a-z]{7} ['"][^'"]*['"]\)\))|(\d{14}-[0-9a-z]{7})/g,id:/\d{14}-[0-9a-z]{7}/g});let rt=M;function os(r){let s;return{c(){s=E0("div"),v0(s,"class","svelte-1nw0bsj"),Z(s,"fn__flex-1",r[0]),Z(s,"editor",!r[0])},m(n,a){w0(n,s,a),r[18](s)},p(n,a){a[0]&1&&Z(s,"fn__flex-1",n[0]),a[0]&1&&Z(s,"editor",!n[0])},i:et,o:et,d(n){n&&o0(s),r[18](null)}}}function qs(r,s,n){let{plugin:a}=s,{embed:x=K.embed}=s,{path:e=K.path}=s,{diff:i=K.diff}=s,{locale:D=K.locale}=s,{savable:m=K.savable}=s,{changable:g=K.changable}=s,{original:l=K.original}=s,{modified:h=K.modified}=s,{options:C=K.options}=s,{originalOptions:u=K.originalOptions}=s,{modifiedOptions:I=K.modifiedOptions}=s,{diffOptions:w=K.diffOptions}=s,f;var p,F,E,q,_=!1;const k=a.i18n,R=q0(),H=(()=>{var B;return S=>{S?B||(B=F==null?void 0:F.addAction({id:"18730D32-5451-4102-B299-BE281BA929B9",label:k.editor.action.save.label,keybindings:[p.KeyMod.CtrlCmd|p.KeyCode.KeyS],contextMenuGroupId:"3_file",contextMenuOrder:1,run:()=>{R("save",{value:F.getValue()})}})):B&&(B.dispose(),B=void 0)}})();function X(B){_&&B&&(N(B),W(B))}function N(B){_&&B&&i&&(E==null||E.getOriginalEditor().updateOptions(B))}function W(B){_&&B&&(i?E==null||E.getModifiedEditor().updateOptions(B):F==null||F.updateOptions(B))}function J(B){_&&i&&(E==null||E.updateOptions(B))}function t(B){_&&(A(B),o(B))}function A(B){_&&E&&(p==null||p.editor.setModelLanguage(E.getOriginalEditor().getModel(),B))}function o(B){_&&(i?E&&(p==null||p.editor.setModelLanguage(E.getModifiedEditor().getModel(),B)):F&&(p==null||p.editor.setModelLanguage(F.getModel(),B)))}const b=(()=>{switch(!0){case!1:return"node_modules/monaco-editor/min/vs";case!0:default:if(x)switch(!0){case nt:return globalThis.require("node:path").resolve(globalThis.siyuan.config.system.workspaceDir,`./data/plugins/${a.name}/libs/monaco-editor/min/vs`);default:return new URL(`${globalThis.document.baseURI}plugins/${a.name}/libs/monaco-editor/min/vs`).pathname}else switch(!0){case nt:return globalThis.require("node:path").resolve(e,`./data/plugins/${a.name}/libs/monaco-editor/min/vs`);case a0:default:return"./../libs/monaco-editor/min/vs"}}})();mt.config({paths:{vs:b},"vs/nls":{availableLanguages:{"*":y0(D)}}});const v=mt.init();_0(()=>{v.then(B=>{p=B,n(16,q=new rt(a,p,R)),i?(n(15,E=p.editor.createDiffEditor(f,C)),E.setModel({original:p.editor.createModel(l.value,q.map((l==null?void 0:l.language)??"")),modified:p.editor.createModel(h.value,q.map((h==null?void 0:h.language)??""))}),n(14,F=E.getModifiedEditor())):h?n(14,F=p.editor.create(f,I0(C,h,{language:q.map((h==null?void 0:h.language)??"")}))):n(14,F=p.editor.create(f,C)),F.onDidChangeModelContent(S=>{g&&R("changed",{value:F.getValue(),event:S})}),F.addAction({id:"F9E62A24-619E-49EA-A870-B31E6F9D284F",label:k.editor.action.toggleWordWrap.label,keybindings:[p.KeyMod.Alt|p.KeyCode.KeyZ],contextMenuGroupId:"2_view",contextMenuOrder:1,run:()=>{const S=F.getOption(130)==="off"?"on":"off";X({wordWrap:S})}}),H(m),F.addAction({id:"D68588DD-8D0C-4435-8DC2-145B0F464FF8",label:k.editor.action.saveAs.label,keybindings:[p.KeyMod.CtrlCmd|p.KeyMod.Shift|p.KeyCode.KeyS],contextMenuGroupId:"3_file",contextMenuOrder:2,run:()=>{bs({data:F.getValue(),filetype:q.getMimeType(F.getModel().getLanguageId())})}}),p.languages.getLanguages().forEach(S=>{F.addAction({id:`set-model-language-${S.id}`,label:`${k.editor.action.setModelLanguage.label}: ${S.id}`,run:()=>{t(S.id)}})}),n(17,_=!0)}).catch(B=>{n(17,_=!1),a.logger.error(B)})});function y(B){O0[B?"unshift":"push"](()=>{f=B,n(1,f)})}return r.$$set=B=>{"plugin"in B&&n(3,a=B.plugin),"embed"in B&&n(0,x=B.embed),"path"in B&&n(4,e=B.path),"diff"in B&&n(5,i=B.diff),"locale"in B&&n(6,D=B.locale),"savable"in B&&n(7,m=B.savable),"changable"in B&&n(2,g=B.changable),"original"in B&&n(8,l=B.original),"modified"in B&&n(9,h=B.modified),"options"in B&&n(10,C=B.options),"originalOptions"in B&&n(11,u=B.originalOptions),"modifiedOptions"in B&&n(12,I=B.modifiedOptions),"diffOptions"in B&&n(13,w=B.diffOptions)},r.$$.update=()=>{if(r.$$.dirty[0]&197376&&_&&(l&&A(q.map((l==null?void 0:l.language)??"")),h&&o(q.map((h==null?void 0:h.language)??""))),r.$$.dirty[0]&181028){const B=g;_&&(n(2,g=!1),i?(l&&E.getOriginalEditor().setValue(l.value),h&&E.getModifiedEditor().setValue(h.value)):h&&F.setValue(h.value),n(2,g=B))}r.$$.dirty[0]&16512&&F&&H(m),r.$$.dirty[0]&1024&&X(C),r.$$.dirty[0]&2048&&N(u),r.$$.dirty[0]&4096&&W(I),r.$$.dirty[0]&8192&&J(w)},[x,f,g,a,e,i,D,m,l,h,C,u,I,w,F,E,q,_,y]}class B0 extends A0{constructor(s){super(),F0(this,s,qs,os,b0,{plugin:3,embed:0,path:4,diff:5,locale:6,savable:7,changable:2,original:8,modified:9,options:10,originalOptions:11,modifiedOptions:12,diffOptions:13},null,[-1,-1])}}class ys extends k0{constructor(s=()=>{}){super(n=>{globalThis.document.documentElement.style.setProperty("--vscode-editor-background",n?"#1f1f1f":"#ffffff"),this.oninited()}),this.oninited=s}ready(s={status:!0}){const n={channel:"editor-ready",data:s};this.port.postMessage(n)}changed(s){const n={channel:"editor-changed",data:s};this.port.postMessage(n)}save(s){const n={channel:"editor-save",data:s};this.port.postMessage(n)}hover(s){const n={channel:"editor-hover-siyuan",data:s};this.port.postMessage(n)}open(s){const n={channel:"editor-open-siyuan",data:s};this.port.postMessage(n)}}const m0=new K0(`${x0.name}-editor-${(()=>{switch(!0){case nt:return"window";case a0:return"iframe";case L0:return"popup";default:return"unknow"}})()}`);var T=new B0({target:globalThis.document.body,props:{plugin:{name:x0.name,i18n:S0,logger:m0}}});const P=new ys(()=>{P.addEventListener("editor-init",r=>{const{data:s}=r.data;T&&T.$destroy(),T=new B0({target:globalThis.document.body,props:{plugin:{name:s.name,i18n:s.i18n,logger:m0},path:s.path,diff:s.diff,locale:s.locale,savable:s.savable,changable:s.changable,original:s.original,modified:s.modified,options:s.options}}),T.$on("changed",n=>P.changed(n.detail)),T.$on("save",n=>P.save(n.detail)),T.$on("hover",n=>P.hover(n.detail)),T.$on("open",n=>P.open(n.detail))}),P.addEventListener("editor-set",r=>{const{data:s}=r.data;T&&T.$set(s)}),P.ready()});
